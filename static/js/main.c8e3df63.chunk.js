(this["webpackJsonp@meddbriefer/mockup"]=this["webpackJsonp@meddbriefer/mockup"]||[]).push([[0],{32:function(e,t,i){"use strict";(function(e){var s=i(10),n=i(21),a=i(7),r="heading",l="assessment",c="intervention",o="required-action",d="critical-criteria",u={nodeLabels:{bsi:"BSI","scene-size-up":"Scene Size-Up","initial-assessment-resuscitation":"Primary Survey/Resuscitation","general-assessment":"General Impression and LOC",airway:"Airway",breathing:"Breathing",circulation:"Circulation","transport-decision":"Transport Decision","history-taking":"History Taking","detailed-physical-examination":"Secondary Assessment",head:"Head",neck:"Neck",chest:"Chest","abdomen-pelvis":"Abdomen/pelvis","lower-extremities":"Lower extremities","upper-extremities":"Upper extremities","posterior-thorax-lumbar-buttocks":"Posterior thorax, lumbar, and buttocks",misc:"Ongoing management and reassessment","critical-criteria":"Critical Criteria"},tree:[{id:"bsi",type:r},{id:"scene-size-up",type:r},{id:"initial-assessment-resuscitation",type:r,children:[{id:"general-assessment",type:r},{id:"airway",type:r},{id:"breathing",type:r},{id:"circulation",type:r},{id:"transport-decision",type:r}]},{id:"history-taking",type:r},{id:"detailed-physical-examination",type:r,children:[{id:"head",type:r},{id:"neck",type:r},{id:"chest",type:r},{id:"abdomen-pelvis",type:r},{id:"lower-extremities",type:r},{id:"upper-extremities",type:r},{id:"posterior-thorax-lumbar-buttocks",type:r},{id:"misc",type:r}]},{id:"critical-criteria",type:r}],leaves:{bsi:[{id:"apply-ppe",type:o,label:"Takes or verbalizes appropriate PPE precautions."}],"scene-size-up":[{id:"assess-scene-safety",type:l,label:"Determines the scene/situation is safe"},{id:"assess-injury-mechanism",type:l,label:"Determines the mechanism of injury/nature of illness"},{id:"assess-num-patients",type:l,label:"Determines the number of patients"},{id:"request-addl-help",type:l,label:"Requests additional help if necessary"},{id:"stabilizes-spine",type:c,label:"Stabilizes or directs assistant to stabilize the cervical spine, as indicated"}],"general-assessment":[{id:"verbalizes-patient-condition",type:l,label:"Verbalizes general impression of the patient"},{id:"determines-loc",type:l,label:"Determines responsiveness/level of consciousness"},{id:"determines-life-threats",type:l,label:"Determines chief complaint/apparent life-threats"}],airway:[{id:"assess-airway",type:l,label:"Opens and assesses airway"},{id:"inserts-adjunct",type:c,label:"Inserts appropriately sized adjunct"},{id:"manages-airway",type:c,label:"Appropriately manages any problems associated with airway"}],breathing:[{id:"assess-breathing",type:l,label:"Assesses breathing"},{id:"assess-ventilation",type:l,label:"Assures adequate ventilation"},{id:"oxygen-therapy",type:c,label:"Administers oxygen"},{id:"manage-breathing-injury",type:c,label:"Manages any injury that may compromise breathing/ventilation"}],circulation:[{id:"assess-pulse",type:l,label:"Checks pulse"},{id:"assess-skin",type:l,label:"Assesses skin [either skin color, temperature, or condition]"},{id:"assess-bleeding",type:l,label:"Assesses for major bleeding"},{id:"control-bleeding",type:c,label:"Controls major bleeding if present"},{id:"control-shock",type:c,label:"Initiates shock management"}],"transport-decision":[{id:"transport-priority",type:o,label:"Identifies priority patients/makes transport decision based upon calculated GCS"}],"history-taking":[{id:"obtains-vitals",type:l,label:"Obtains, or directs assistant to obtain, baseline vital signs"},{id:"attempt-obtain-sample",type:l,label:"Attempts to obtain SAMPLE history"}],head:[{id:"assess-mouth-nose-face",type:l,label:"Inspects mouth, nose, and assesses facial area"},{id:"assess-scape-ears",type:l,label:"Inspects and palpates scalp and ears"},{id:"assess-perrl",type:l,label:"Assesses eyes for PERRL"}],neck:[{id:"assess-trachea",type:l,label:"Inspects position of trachea"},{id:"assess-jugular",type:l,label:"Checks jugular veins"},{id:"assess-spine",type:l,label:"Palpates cervical spine"}],chest:[{id:"inspects-chest",type:l,label:"Inspects chest"},{id:"palpate-chest",type:l,label:"Palpates chest"},{id:"auscultate-chest",type:l,label:"Auscultates chest"}],"abdomen-pelvis":[{id:"assess-abdomen",type:l,label:"Inspects and palpates abdomen"},{id:"assess-pelvis",type:l,label:"Assesses pelvis"},{id:"assess-genitalia",type:l,label:"Verbalizes assessment of genitalia/perineum as needed"}],"lower-extremities":[{id:"assess-right-leg",type:l,label:"Inspects, palpates, and assesses motor, sensory, and distal circulatory functions on right lower extremity"},{id:"assess-left-leg",type:l,label:"Inspects, palpates, and assesses motor, sensory, and distal circulatory functions on left lower extremity"}],"upper-extremities":[{id:"assess-right-arm",type:l,label:"Inspects, palpates, and assesses motor, sensory, and distal circulatory functions on right upper extremity"},{id:"assess-left-arm",type:l,label:"Inspects, palpates, and assesses motor, sensory, and distal circulatory functions on left upper extremity"}],"posterior-thorax-lumbar-buttocks":[{id:"assess-posterior-thorax",type:l,label:"Inspects and palpates posterior thorax"},{id:"assess-lumbar-buttocks",type:l,label:"Inspects and palpates lumbar and buttocks area"}],misc:[{id:"manage-secondary-injuries",type:o,label:"Manages secondary injuries and wounds appropriately"},{id:"performs-ongoing-assessment",type:o,label:"Reassesses Patient"}],"critical-criteria":[]},callouts:[{stepId:"assess-scene-safety",calloutLabel:"Scene Safety"},{stepId:"assess-injury-mechanism",calloutLabel:"Mechanism of Injury"},{stepId:"assess-num-patients",calloutLabel:"Num Patients"},{stepId:"request-addl-help",calloutLabel:"Additional Help"},{stepId:"verbalizes-patient-condition",calloutLabel:"Condition"},{stepId:"determines-loc",calloutLabel:"LOC"},{stepId:"determines-life-threats",calloutLabel:"Life Threats"},{stepId:"assess-airway",calloutLabel:"Airway"},{stepId:"assess-breathing",calloutLabel:"Breathing"},{stepId:"assess-ventilation",calloutLabel:"Ventilations"},{stepId:"assess-pulse",calloutLabel:"Pulse"},{stepId:"assess-skin",calloutLabel:"Skin"},{stepId:"assess-bleeding",calloutLabel:"Bleeding"},{stepId:"assess-mouth-nose-face",calloutLabel:"Face"},{stepId:"assess-scape-ears",calloutLabel:"Ears"},{stepId:"assess-perrl",calloutLabel:"PERRL"},{stepId:"assess-trachea",calloutLabel:"Trachea"},{stepId:"assess-jugular",calloutLabel:"Jugular"},{stepId:"assess-spine",calloutLabel:"Assess C-Spine"},{stepId:"inspects-chest",calloutLabel:"Inspect Chest"},{stepId:"palpate-chest",calloutLabel:"Palpate Chest"},{stepId:"auscultate-chest",calloutLabel:"Auscultates Chest"},{stepId:"assess-abdomen",calloutLabel:"Abdomen"},{stepId:"assess-pelvis",calloutLabel:"Pelvis"},{stepId:"assess-genitalia",calloutLabel:"Genitalia"},{stepId:"assess-left-leg",calloutLabel:"Left Leg"},{stepId:"assess-right-leg",calloutLabel:"Right Leg"},{stepId:"assess-left-arm",calloutLabel:"Left Arm"},{stepId:"assess-right-arm",calloutLabel:"Right Arm"},{stepId:"assess-posterior-thorax",calloutLabel:"Posterior/Thorax"},{stepId:"assess-lumbar-buttocks",calloutLabel:"Lumbar/Buttocks"}],criticalCriteria:[{id:"critical-failure-inapproriate-intervention",type:d,label:"Uses or orders a dangerous or inappropriate intervention"},{id:"critical-failure-inapproriate-behavior",type:d,label:"Exhibits unprofessional behavior"}],interventionForms:{"stabilizes-spine":{id:"c-spine-interventions",interventions:[{id:"c-spine-intervention-10",label:"Holds manual stabilization"},{id:"c-spine-intervention-20",label:"Applies cervical collar"}],steps:[{id:"bogus-step-1",label:"bogus step 1"},{id:"bogus-step-2",label:"bogus step 2"}],criticalCriteria:[{id:"bogus-crit-1",label:"bogus critical criteria 1"},{id:"bogus-crit-2",label:"bogus critical criteria 2"}]},"inserts-adjunct":{id:"adjunct-interventions",interventions:[{id:"adjunct-intervention-10",label:"Inserts OPA"},{id:"adjunct-intervention-20",label:"Inserts NPA"}],steps:[{id:"bogus-step-1",label:"bogus step 1"},{id:"bogus-step-2",label:"bogus step 2"}],criticalCriteria:[{id:"bogus-crit-1",label:"bogus critical criteria 1"},{id:"bogus-crit-2",label:"bogus critical criteria 2"}]},"manages-airway":{id:"airway-interventions",interventions:[{id:"airway-intervention-10",label:"bogus intervetion1"},{id:"airway-intervention-20",label:"bogus intervention2"}],steps:[{id:"bogus-step-1",label:"bogus step 1"}],criticalCriteria:[{id:"bogus-crit-1",label:"bogus critical criteria 1"},{id:"bogus-crit-2",label:"bogus critical criteria 2"},{id:"bogus-crit-3",label:"bogus critical criteria 3"}]},"oxygen-therapy":{id:"oxygen-therapy-interventions",interventions:[{id:"ventilation-intervention-10",label:"Endotracheal intubation"},{id:"ventilation-intervention-20",label:"Bag-valve mask"}],steps:[{id:"bogus-step-1",label:"bogus step 1"},{id:"bogus-step-2",label:"bogus step 2"}],criticalCriteria:[{id:"bogus-crit-1",label:"bogus critical criteria 1"},{id:"bogus-crit-2",label:"bogus critical criteria 2"}]},"manage-breathing-injury":{id:"manage-breathing-injury-intervention",interventions:[{id:"manage-breathing-intervention-10",label:"bogus intervention 1"},{id:"manage-breathing-intervention-29",label:"bogus intervention 2"}],steps:[{id:"bogus-step-1",label:"bogus step 1"},{id:"bogus-step-2",label:"bogus step 2"}],criticalCriteria:[{id:"bogus-crit-1",label:"bogus critical criteria 1"},{id:"bogus-crit-2",label:"bogus critical criteria 2"}]},"control-bleeding":{id:"bleeding-interventions",interventions:[{id:"bleeding-intervention-10",label:"Applies direct pressure"},{id:"bleeding-intervention-20",label:"Applies tourniquet"}],steps:[{id:"bogus-step-1",label:"bogus step 1"},{id:"bogus-step-2",label:"bogus step 2"}],criticalCriteria:[{id:"bleeding-crit-30",type:d,label:"Did not control hemorrhage using correct procedures in a timely manner"},{id:"bleeding-crit-40",type:d,label:"Did not apply direct pressure to wound before applying tourniquet"},{id:"bleeding-crit-50",type:d,label:"Did not properly position the patient"},{id:"bleeding-crit-60",type:d,label:"Did not take steps to prevent heat loss"}]},"control-shock":{id:"shock-interventions",interventions:[{id:"shock-intervention-10",label:"IV fluid therapy--Peripheral IV insertion"},{id:"shock-intervention-20",label:"IV fluid therapy--IV Push/Bolus"},{id:"shock-intervention-30",label:"Covers patient"}],steps:[{id:"bogus-step-1",label:"bogus step 1"},{id:"bogus-step-2",label:"bogus step 2"}],criticalCriteria:[{id:"shock-crit-10",type:d,label:"Fails to establish a patent and properly adjusted IV within 6-minute time limit"},{id:"shock-crit-20",type:d,label:"Fails to establish IV within 3 attempts during 6-minute time limit"},{id:"shock-crit-30",type:d,label:"Contaminates equipment or site without appropriately correcting situation"},{id:"shock-crit-40",type:d,label:"Performs any improper technique resulting in the potential for uncontrolled hemorrhage, catheter shear, or air embolism"},{id:"shock-crit-50",type:d,label:"Fails to dispose/verbalize disposal of blood-contaminated sharps immediately in proper container at point of use"}]},"transport-priority":{id:"transport-interventions",interventions:[{id:"transport-intervention-10",label:"Scoop Stretcher"},{id:"transport-intervention-20",label:"Supine Long Backboard"}],steps:[{id:"bogus-step-1",label:"bogus step 1"},{id:"bogus-step-2",label:"bogus step 2"}],criticalCriteria:[{id:"transport-crit-10",type:d,label:"Did not immediately direct or take manual immobilization of head"},{id:"transport-crit-20",type:d,label:"Did not properly apply appropriately sized cervical collar before ordering releaseof manual immobilization"},{id:"transport-crit-30",type:d,label:"Released or ordered relase of manual immobilization before it was maintained mechanically"},{id:"transport-crit-40",type:d,label:"Manipulated or moved patient excessively causing potential spinal compromise"},{id:"transport-crit-50",type:d,label:"Head immobilized to the device before device sufficiently secured to torso"},{id:"transport-crit-60",type:d,label:"Patient moves excessively up, down, left, or right on the device"},{id:"transport-crit-70",type:d,label:"Head immobilization allows for excessive movement"},{id:"transport-crit-80",type:d,label:"Upon completion of immobilization, head is not in a neutral, in-line position"},{id:"transport-crit-90",type:d,label:"Did not reassess motor, sensory, and circulatory functions in each extremity after immobilizing patient to the device"}]}}};function b(e,t){return e.map((function(e){var i=e.id in t&&t[e.id];return i?e.label=i:console.error("label for ".concat(e.id," not found!")),e.children&&(e.children=b(e.children,t)),e}))}function p(e,t){return e.map((function(e){return e.children?e.children=p(e.children,t):e.children=e.id in t?t[e.id].map((function(e){return e.children?e:Object(s.a)(Object(s.a)({},e),{},{children:[]})})):[],e}))}function h(e){return JSON.parse(JSON.stringify(e))}function j(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=Object(n.a)(e);try{for(s.s();!(t=s.n()).done;){var a=t.value;"assessment"===a.type?i.push(a):"heading"===a.type&&(i=j(a.children,i))}}catch(r){s.e(r)}finally{s.f()}return i}t.a=function(t){var i,r={id:t.id,scenarioType:t.scenarioType,info:t.info,initialVitalSigns:t.initialVitalSigns,SAMPLE:t.SAMPLE,reassessmentVitals:t.reassessmentVitals,interventionForms:h(u.interventionForms),criticalCriteria:h(u.criticalCriteria),nodeLabels:h(u.nodeLabels),items:h(u.leaves)};r.callouts=(i=t.assessmentFindings,Object.entries(i).map((function(t){var i=Object(a.a)(t,2),s=i[0],n=i[1],r=u.callouts.find((function(e){return e.stepId===s}));return r?r.calloutText=n:(console.log("ERROR key not found!",s),e.exit(1)),r}))),function(e,t){var i,a=Object(n.a)(t);try{var r=function(){for(var t=i.value,n=t.stepId,a=t.calloutLabel,r=t.calloutText,l=0,c=Object.keys(e);l<c.length;l++){var o=c[l],d=e[o].map((function(e){return e.id===n?Object(s.a)(Object(s.a)({},e),{},{calloutLabel:a,callout:r}):e}));e[o]=d}};for(a.s();!(i=a.n()).done;)r()}catch(l){a.e(l)}finally{a.f()}}(r.items,r.callouts),function(e,t){t.forEach((function(t){e["critical-criteria"].push(t)}));for(var i=t.filter((function(e){return!!e.parent})),s=function(){var t,s=r[a],l=Object(n.a)(i.filter((function(e){return e.parent===s})));try{for(l.s();!(t=l.n()).done;){var c=t.value;e[s].push(c)}}catch(o){l.e(o)}finally{l.f()}},a=0,r=Object.keys(e);a<r.length;a++)s()}(r.items,u.criticalCriteria),function(e,t){for(var i=function(){for(var t=Object(a.a)(r[n],2),i=t[0],l=t[1],c=0,o=Object.keys(e);c<o.length;c++){var d=o[c],u=e[d].map((function(e){return e.id===i?Object(s.a)(Object(s.a)({},e),{},{intervention:l}):e}));e[d]=u}},n=0,r=Object.entries(t);n<r.length;n++)i()}(r.items,t.interventions);var l=b(u.tree,u.nodeLabels);r.steps=p(l,r.items);var c=j(l);return r.assessmentSteps=c,r}}).call(this,i(52))},43:function(e,t,i){},53:function(e,t,i){"use strict";i.r(t);var s=i(2),n=i.n(s),a=i(16),r=i.n(a),l=i(17),c=i(9),o=i(15),d=(i(42),i(43),i(7)),u=i(10),b=i(0),p={dispLeafNodesInline:!1,dispAssessmentFindingsInline:!0,inhibitRaterOversharing:!0},h=function(){},j=n.a.createContext(Object(u.a)(Object(u.a)({},p),{},{setPref:h,getCurrentLayout:h,setCurrentLayout:h,isCurrentLayout:h})),m=function(e){Object(s.useContext)(o.AuthContext).isAuthenticated;var t=Object(s.useState)(p.dispLeafNodesInline),i=Object(d.a)(t,2),n=i[0],a=i[1],r=Object(s.useState)(p.dispAssessmentFindingsInline),l=Object(d.a)(r,2),c=l[0],u=l[1],h=Object(s.useState)(p.inhibitRaterOversharing),m=Object(d.a)(h,2),g=m[0],f=m[1],O=Object(s.useState)("layout1"),y=Object(d.a)(O,2),v=y[0],x=y[1];return Object(b.jsx)(j.Provider,{value:{dispLeafNodesInline:n,dispAssessmentFindingsInline:c,inhibitRaterOversharing:g,setPref:function(e,t){switch(e){case"dispLeafNodesInline":a(t);break;case"dispAssessmentFindingsInline":u(t);break;case"inhibitRaterOversharing":f(t);break;default:console.log("not setting unknown pref ".concat(e," to ").concat(t))}},getCurrentLayout:function(){return v},setCurrentLayout:function(e){switch(e){case"layout1":a(!1),x("layout1");break;default:a(!0),x("layout2")}},isCurrentLayout:function(e){return e===v}},children:e.children})},g=function(){return Object(s.useContext)(j)},f=n.a.createContext(),O=function(e){var t=e.scenario,i=e.defaultValues,n=e.children,a=Object(s.useState)(i.currentNode),r=Object(d.a)(a,2),l=r[0],c=r[1],o=Object(s.useState)(null),p=Object(d.a)(o,2),h=p[0],j=p[1],m=Object(s.useState)(i.checkListItems),g=Object(d.a)(m,2),O=g[0],y=g[1],v=Object(s.useState)(i.criticalCriteria),x=Object(d.a)(v,2),k=x[0],C=x[1],I=Object(s.useState)(i.showForm),w=Object(d.a)(I,2),S=w[0],L=w[1],A=Object(s.useState)(i.vitals),N=Object(d.a)(A,2),P=N[0],V=N[1],F=Object(s.useState)(i.vitalsRecomputed),R=Object(d.a)(F,2),E=R[0],z=R[1],T=Object(s.useState)(!1),M=Object(d.a)(T,2),D=M[0],H=M[1],q=Object(s.useState)(!1),B=Object(d.a)(q,2),U=B[0],G=B[1],W=Object(s.useState)(0),J=Object(d.a)(W,2),Y=J[0],_=J[1],Q=Object(s.useState)([{id:"scenario",duration:60*t.info.maxTime,action:{type:"foo",payload:"foo payload"},timeRemaining:60*t.info.maxTime,expired:!1}]),K=Object(d.a)(Q,2),X=K[0],Z=K[1],$=Object(s.useState)(null),ee=Object(d.a)($,2),te=ee[0],ie=ee[1],se=Object(s.useState)([]),ne=Object(d.a)(se,2),ae=ne[0],re=ne[1];Object(s.useEffect)((function(){var e=setInterval((function(){return le()}),1e3);return function(){clearInterval(e)}})),Object(s.useEffect)((function(){if(0!==Object.keys(ae).length){var e=ae[0].type,t=ae[0].payload;(0,ce[e])(t)}}),[ae]),Object(s.useEffect)((function(){console.log("current state",{currentNode:l,currentAssessmentFinding:h,checkListItems:O,criticalCriteria:k,showInterventionForm:S,currentVitals:P,vitalsRecomputed:E})}),[l,h,O,k,S,P,E]);var le=function(){if(D&&!U){_(Y+1);var e=X.map((function(e){var t=Object.assign(e);if(!e.expired){if(1===e.timeRemaining&&(t.expired=!0,null!=t.action)){var i=ae.slice();i.push(t.action),re(i)}t.timeRemaining--}return t}));Z(e)}},ce={foo:function(e){alert(e)},bar:function(){alert("bar")}},oe=function(e){return O[e]},de=function(e,t){y((function(i){return Object(u.a)(Object(u.a)({},i),{},{[e]:t})}))},ue=function(e){de(e,!O[e])},be=function(e,t){L((function(i){return Object(u.a)(Object(u.a)({},i),{},{[e]:t})}))};return Object(b.jsx)(f.Provider,{value:{scenario:t,isChecked:oe,setChecked:de,toggleChecked:ue,currentNode:l,setCurrentNode:c,isCurrentAssessmentFinding:function(e){return!!h&&h===e},toggleAssessmentFinding:function(e){var t=oe(e);j(t?null:e),ue(e)},shouldDisplayInterventionForm:function(e){return Object.keys(S).includes(e)&&S[e]},setDisplayInterventionForm:be,toggleDisplayInterventionForm:function(e){be(e,!S[e])},setCriticalCriteria:C,currentVitals:P,setVital:function(e,t){V((function(i){return Object(u.a)(Object(u.a)({},i),{},{[e]:t})}))},vitalsRecomputed:E,setVitalsRecomputed:z,started:D,setStarted:H,paused:U,setPaused:G,getTimestamp:function(){return Y},timers:X,timerError:te,actionsQueue:ae,registerTimer:function(e,t){var i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n=null!==(i=n)&&void 0!==i?i:t;var r=X.find((function(t){return t.id===e}));if(r)ie('ERROR: timer: "'.concat(e,'" already registered'));else{var l=X.slice();l.push({id:e,duration:t,action:s,timeRemaining:n,expired:a}),Z(l)}},cancelTimer:function(e){if(X.find((function(t){return t.id===e}))){var t=X.filter((function(t){return t.id!=e}));Z(t)}else ie('ERROR: timer: "'.concat(e,'" not found'))},clearTimerError:function(){return ie(null)},setTimerError:ie},children:n})},y=i(54),v=i(55),x=i(56),k=function(e){var t=e.lhs,i=e.rhs,s=e.lhsWidth,n=void 0===s?6:s,a=e.rhsWidth,r=void 0===a?6:a;return Object(b.jsx)(y.a,{fluid:!0,className:"main",children:Object(b.jsxs)(v.a,{children:[Object(b.jsx)(x.a,{md:n,className:"col",children:t}),Object(b.jsx)(x.a,{md:r,className:"col",children:i})]})})},C=i(5),I=i.n(C),w=function(e){var t=e.step,i=e.clickHandler,n=e.inlineChildren,a=void 0===n?[]:n,r=Object(s.useContext)(f).isChecked;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("label",{className:I()({"text-danger":"critical-criteria"===t.type}),onClick:function(){return i(t.id)},children:[Object(b.jsx)("span",{className:"checkbox-icon material-icons-outlined",children:r(t.id)?"check_box":"check_box_outline_blank"}),Object(b.jsx)("b",{children:t.label}),a]}),!!e.children&&e.children]})},S=function(e){var t=e.step,i=Object(s.useContext)(f).isCurrentAssessmentFinding;return Object(b.jsx)("span",{className:I()("callout",{currentCallOut:i(t.id)}),children:t.callout})},L=function(e){var t=e.step;return(0,Object(s.useContext)(f).isChecked)(t.id)?Object(b.jsx)("span",{className:"callout-icon material-icons-outlined",style:{color:"grey"},children:"message"}):Object(b.jsx)("span",{className:"callout-icon material-icons-outlined",children:"message"})},A=function(e){var t=e.step,i=Object(s.useContext)(f),n=i.scenario,a=i.shouldDisplayInterventionForm,r=i.toggleChecked;return a(t.id)?Object(b.jsx)("div",{className:"intervention-form",children:Object(b.jsxs)("form",{children:[n.interventionForms[t.id].interventions.map((function(e){return Object(b.jsx)("div",{children:Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{type:"checkbox"}),"\xa0 ",e.label]})},e.id)})),Object(b.jsx)("button",{type:"button",className:"btn btn-primary btn-small",onClick:function(){return r(t.id)},children:"Submit"})]})}):Object(b.jsx)("div",{})},N=function(e){var t=e.step,i=g().dispAssessmentFindingsInline,n=Object(s.useContext)(f),a=n.isChecked,r=n.toggleChecked,l=n.toggleAssessmentFinding,c=n.toggleDisplayInterventionForm;switch(t.type){case"assessment":var o=Object(b.jsx)(L,{step:t});return Object(b.jsx)(w,{step:t,clickHandler:l,inlineChildren:o,children:i&&Object(b.jsx)("div",{children:a(t.id)&&Object(b.jsx)(S,{step:t})})});case"intervention":var d="say"===t.intervention?r:c;return Object(b.jsx)(w,{step:t,clickHandler:d,children:Object(b.jsx)(A,{step:t})});default:return Object(b.jsx)(w,{step:t,clickHandler:r})}},P=function(e){return!e.children.length>0};function V(e){var t=e.steps,i=(e.heading,e.depth),n=void 0===i?3:i,a=e.first,r=void 0!==a&&a,l=Object(s.useState)(!1),c=Object(d.a)(l,2),o=c[0],u=c[1];return Object(b.jsx)("ul",{className:I()({first:r}),children:t.map((function(e){return Object(b.jsx)("li",{children:P(e)?Object(b.jsx)(N,{step:e}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{className:"h".concat(n),onClick:function(){return console.log("toggling"),void u(!o)},children:e.label}),Object(b.jsx)(V,{steps:e.children,depth:n+1})]})},"li-".concat(e.id))}))})}var F=i(58),R=i(57),E=i(59),z=i(60),T=i(61),M=i(62);function D(e){var t=e.label,i=e.values,n=g().inhibitRaterOversharing,a=Object(s.useState)(!1),r=Object(d.a)(a,2),l=r[0],c=r[1];return Object(b.jsxs)("tr",{children:[n?Object(b.jsxs)("th",{onClick:function(){return c(!l)},children:[t," "]}):Object(b.jsx)("th",{children:t}),i.map((function(e,t){return Object(b.jsx)("td",{children:n?Object(b.jsx)("span",{className:I()({hidden:!l}),children:e}):Object(b.jsx)("span",{children:e})},t)}))]})}function H(e){e.title;var t=e.headings,i=void 0===t?[]:t,s=e.rows,n=void 0===s?[]:s;return Object(b.jsxs)(R.a,{striped:!0,size:"sm",children:[Object(b.jsx)("thead",{children:Object(b.jsx)("tr",{children:i.map((function(e,t){return Object(b.jsx)("th",{children:e},t)}))})}),Object(b.jsx)("tbody",{children:n.map((function(e,t){return Object(b.jsx)(D,{label:e.label,values:e.value},t)}))})]})}function q(e){var t=e.defaultTab,i=void 0===t?"callouts":t,n=(g().dispAssessmentFindingsInline,Object(s.useContext)(f)),a=n.scenario,r=n.isChecked,l=n.currentVitals,c=n.vitalsRecomputed,o=Object(s.useState)(i),u=Object(d.a)(o,2),p=u[0],h=u[1],j=function(e){p!==e&&h(e)},m=function(e){return e===p};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(E.a,{tabs:!0,children:[Object(b.jsx)(z.a,{children:Object(b.jsx)(T.a,{className:I()({active:m("vitals")}),onClick:function(){return j("vitals")},children:"Vitals"})}),Object(b.jsx)(z.a,{children:Object(b.jsx)(T.a,{className:I()({active:m("sample")}),onClick:function(){return j("sample")},children:"SAMPLE"})}),Object(b.jsx)(z.a,{children:Object(b.jsx)(T.a,{className:I()({active:m("callouts")}),onClick:function(){return j("callouts")},children:"Assessment Findings"})})]}),Object(b.jsxs)(M.a,{activeTab:p,children:[function(){var e=c?["Vital Sign","Initial Value","Current Value"]:["Vital Sign","Current Value"],t=Object.entries(a.initialVitalSigns).map((function(e){var t=c?[e[1],l[e[0]]]:[e[1]];return{label:e[0],value:t}}));return Object(b.jsx)(F.a,{tabId:"vitals",children:Object(b.jsx)(H,{title:"Vitals",headings:e,rows:t})})}(),function(){var e=Object.entries(a.SAMPLE).map((function(e){return{label:e[0],value:[e[1]]}}));return Object(b.jsx)(F.a,{tabId:"sample",children:Object(b.jsx)(H,{title:"SAMPLE",headings:["Type","Value"],rows:e})})}(),function(){var e=a.assessmentSteps.filter((function(e){return r(e.id)})).map((function(e){return{id:e.id,label:e.calloutLabel,value:[Object(b.jsx)(S,{step:e,displayAssessmentFindings:!0},e.id)]}}));return Object(b.jsx)(F.a,{tabId:"callouts",children:e.length>0&&Object(b.jsxs)(R.a,{size:"sm",striped:!0,children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Assessment"}),Object(b.jsx)("th",{children:"Finding"})]})}),Object(b.jsx)("tbody",{children:e.map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:e.label}),Object(b.jsx)("td",{children:e.value})]},e.id)}))})]})})}()]})]})}var B=function(){var e=Object(s.useContext)(f).scenario,t=g().dispAssessmentFindingsInline,i=Object(b.jsx)(V,{heading:"Checklist",steps:e.steps,first:!0,displayAssessmentFindings:t});return Object(b.jsx)(k,{lhs:i,rhs:Object(b.jsx)(q,{}),lhsWidth:7,rhsWidth:5})},U=i(63),G=i(64),W=function(){var e=g(),t=e.isCurrentLayout,i=e.setCurrentLayout;return Object(b.jsxs)(U.a,{children:[Object(b.jsx)(G.a,{color:t("layout1")?"success":"primary",onClick:function(){return i("layout1")},children:"Layout 1"}),Object(b.jsx)(G.a,{color:t("layout2")?"success":"primary",onClick:function(){return i("layout2")},children:"Layout 2"})]})},J=i(65),Y=i(66),_=i(67),Q=function(e){var t=e.title,i=e.leftNav,n=void 0===i?null:i,a=e.rightNav,r=void 0===a?null:a,l=Object(s.useContext)(o.AuthContext),c=l.isAuthenticated,d=l.userName,u=l.signOutUser;return Object(b.jsxs)(J.a,{color:"dark",dark:!0,children:[Object(b.jsx)(Y.a,{href:"#",children:"MedDBriefer"}),!!n&&Object(b.jsx)(E.a,{children:n}),!!t&&Object(b.jsx)(_.a,{tag:"h3",children:t}),Object(b.jsxs)(E.a,{children:[c&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(_.a,{children:["Welcome, ",d," \xa0"]}),Object(b.jsx)(G.a,{color:"danger",onClick:u,children:"Sign Out"})]}),!!r&&r]})]})};function K(e){return e.children&&e.children.length>0}function X(e){return e.children.every((function(e){return"heading"===e.type}))}var Z=function e(t){var i=t.steps,n=t.depth,a=void 0===n?3:n,r=t.first,l=void 0!==r&&r,c=Object(s.useContext)(f).setCurrentNode;return Object(b.jsx)("ul",{className:l?"first":"",children:i.map((function(t){return Object(b.jsx)("li",{children:K(t)&&X(t)?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"h".concat(a+1," text-primary empty-heading"),children:t.label}),Object(b.jsx)(e,{steps:t.children,depth:a+1})]}):Object(b.jsx)(G.a,{color:"link",onClick:function(){return c(t.id)},children:Object(b.jsx)("span",{className:"h".concat(a+1),children:t.label})})},t.id)}))})},$=function(){var e=Object(s.useContext)(f),t=e.scenario,i=e.currentNode,n=Object(s.useState)(null),a=Object(d.a)(n,2),r=a[0],l=a[1],c=Object(s.useState)([]),o=Object(d.a)(c,2),u=o[0],p=o[1];return Object(s.useEffect)((function(){i?(l(t.nodeLabels[i]),p(t.items[i])):(l(null),p([]))}),[t,i]),null===r?Object(b.jsx)("div",{style:{verticalAlign:"center"},children:Object(b.jsx)("p",{className:"text-center",children:"Please click on an outline step to the left to see it's details"})}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h3",{className:"text-center",children:"".concat(r," Details")}),Object(b.jsx)("ul",{className:"first",children:u.map((function(e){return Object(b.jsx)("li",{children:Object(b.jsx)(N,{step:e})},e.id)}))}),Object(b.jsx)(q,{defaultTab:"vitals"})]})},ee=function(){var e=Object(s.useContext)(f).scenario,t=Object(b.jsx)(Z,{heading:"Navigation",steps:e.steps,first:!0});return Object(b.jsx)(k,{lhs:t,rhs:Object(b.jsx)($,{}),lhsWidth:"5",rhsWidth:"7"})},te=i(70),ie=i(68),se=i(69),ne=function(e){var t=e.title,i=e.show,s=e.dismiss,n=e.children;return Object(b.jsxs)(te.a,{isOpen:i,toggle:s,size:"xl",backdrop:"static",children:[Object(b.jsx)(ie.a,{toggle:s,children:Object(b.jsx)("span",{className:"h2",children:t})}),Object(b.jsx)(se.a,{children:n})]})},ae=function(e){return new Date(1e3*e).toISOString().substr(14,5)},re=function(){var e=Object(s.useContext)(f),t=e.scenario,i=e.timers,n=e.started,a=e.paused,r=e.setStarted,l=e.setPaused,c=Object(s.useState)(!n||a),o=Object(d.a)(c,2),u=o[0],p=o[1];return Object(s.useEffect)((function(){p(!n||a)}),[n,a]),Object(b.jsx)(ne,{name:"Scenario Info",show:u,children:Object(b.jsxs)("div",{className:"container-fluid",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-6",children:[Object(b.jsx)("h3",{children:"Instructor Information"}),Object(b.jsx)("p",{children:t.info.instructorInformation})]}),Object(b.jsxs)("div",{className:"col-6",children:[Object(b.jsx)("h3",{children:"Patient Information"}),Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:[Object(b.jsx)("b",{children:"Moulage:"})," ",t.info.patientInformation.moulage]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("b",{children:"Position:"})," ",t.info.patientInformation.position]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("b",{children:"Actions:"})," ",t.info.patientInformation.actions]})]})]})]}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-6",children:[Object(b.jsx)("h3",{children:"Dispatch Information"}),Object(b.jsx)("p",{children:t.info.dispatchInfo})]}),Object(b.jsxs)("div",{className:"col-6",children:[Object(b.jsx)("h3",{children:"Scene Assessment"}),Object(b.jsx)("p",{children:t.info.sceneAssessment})]})]}),Object(b.jsx)("div",{className:"row justify-content-md-center",children:Object(b.jsxs)(R.a,{size:"sm",striped:!0,children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Timer"}),Object(b.jsx)("th",{children:"Duration"}),Object(b.jsx)("th",{children:"Time Remaining"}),Object(b.jsx)("th",{children:"Expired"})]})}),Object(b.jsx)("tbody",{children:i.map((function(e){return Object(b.jsxs)("tr",{className:"h4",children:[Object(b.jsx)("td",{children:e.id}),Object(b.jsx)("td",{children:ae(e.duration)}),Object(b.jsx)("td",{children:ae(e.timeRemaining)}),Object(b.jsx)("td",{children:"".concat(e.expired)})]},e.id)}))})]})}),Object(b.jsx)("div",{className:"row justify-content-md-center",children:n?Object(b.jsx)(G.a,{color:"primary",size:"lg",onClick:function(){return l(!1)},children:" Resume Scenario "}):Object(b.jsx)(G.a,{color:"primary",size:"lg",onClick:function(){return r(!0)},children:" Start Scenario"})})]})})},le=function(){var e=Object(s.useContext)(f).setPaused;return Object(b.jsx)(G.a,{color:"primary",onClick:function(){return e(!0)},children:"Scenario Info"})},ce=function(){var e=Object(s.useContext)(f),t=e.started,i=e.paused,n=e.timers.find((function(e){return"scenario"===e.id}));return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(_.a,{className:"material-icons-outlined",children:i||!t?"timer_off":"timer"}),Object(b.jsx)(_.a,{children:ae(n.timeRemaining)})]})},oe=i(32),de={id:"PHTC M2CA",scenarioType:"trauma",info:{instructorInformation:"This skill station involves a middle-aged patient who experienced a rollover with a riding lawn mower. The patient requires airway/breathing management, hemorrhage control, immobilization, and rapid transport to a trauma center. Follow the written scenario, and provide information to all team members as the scenario progresses or as the team members ask.",patientInformation:{moulage:"Multiple lacerations to upper and lower extremities; partial amputation of right lower extremity with active bleeding; multiple bruises to chest and abdomen; flail segment to right upper chest; pale, cool, and diaphoretic skin",position:"Supine",actions:"Opens eyes to pain and becomes progressively more unresponsive"},dispatchInfo:"You and your partners work for a transporting EMS agency and have been dispatched to a residential housing development for a lawn mower accident. It is 1330 hr on a Saturday afternoon and the temperature is 90\xb0F (32\xb0C). You are 5 minutes away from a level III trauma center and 25 minutes from a level I trauma center.",sceneAssessment:"You arrive at a suburban yard where you observe a large riding lawn mower on its side at the bottom of an 8-ft (2.5-m) hill. A bystander is holding a towel to the patient\u2019s right lower leg. As you approach the patient, the bystander tells you that he saw the mower tip over while the patient was driving it.",maxTime:20},assessmentFindings:{"assess-scene-safety":"scene is safe","assess-injury-mechanism":"Patient experienced a rollover with a riding lawn mower","assess-num-patients":"1 patient","request-addl-help":"Additional EMS is on the way.","verbalizes-patient-condition":"You arrive at a suburban yard where you observe a large riding lawn mower on its side at the bottom of an 8-ft (2.5-m) hill. A bystander is holding a towel to the patient\u2019s right lower leg. As you approach the patient, the bystander tells you that he saw the mower tip over while the patient was driving it.","determines-loc":"Opens eyes to pain and becomes progressively more unresponsive","determines-life-threats":"Multiple lacerations to face, scalp, right arm, amputation at the right ankle","assess-airway":"Airway is patent","assess-breathing":"8 BPM","assess-ventilation":"shallow, irregular","assess-pulse":"130; weak radial pulses","assess-skin":"Cyanonic, diaphoretic","assess-bleeding":"Major external hemorrhage at lower right leg","assess-mouth-nose-face":"Multiple lacerations with minor bleeding","assess-scape-ears":"Unremarkable","assess-perrl":"Pupils equal, round, and responsive","assess-trachea":"Neck unremarkable","assess-jugular":"No JVD","assess-spine":"Unremarkable / No step-off","inspects-chest":"Multiple lacerations; red marks to right chest","palpate-chest":"Flail segment to right upper chest","auscultate-chest":"Crepitus on right","assess-abdomen":"Soft, nontender","assess-pelvis":"Stable","assess-genitalia":"Unremarkable","assess-left-leg":"Multiple lacerations","assess-right-leg":"Amputation of right leg at the ankle","assess-left-arm":"Multiple lacerations","assess-right-arm":"Multiple lacerations","assess-posterior-thorax":"Unremarkable","assess-lumbar-buttocks":"Unremarkable"},initialVitalSigns:{BP:"96 / palpation",P:"130, weak radial pulses",R:"38, shallow; LS clear and equal with crepitus on right",Skin:"Cyanonic, diaphoretic",Spo2:"78 % /RA",ETCO2:"64 mm Hg",GCS:"8 (E-2, V-2, M-4), PERRLA",Glucose:"86 mg/dl(4.8 mmol / l)",Pain:"Unable to access",Temp:"96.5 F(35.8 C)"},SAMPLE:{S:"shortness of breath",A:"unknown",M:"unknown",P:"unknown",L:"unknown",E:"Riding a lawnmower on an incline and it rolled over the patient"},reassessmentVitals:{BP:{goodVitals:"96 / P",badVitals:"78 / P"},P:{goodVitals:"120, weak",badVitals:"130, weak radial pulses"},R:{goodVitals:"12, LS clear and equal with crepitus on right",badVitals:"38, shallow; LS clear and equal with crepitus on right"},Skin:{goodVitals:"Pale, diaphoretic",badVitals:"Cyanonic, diaphoretic"},Spo2:{goodVitals:"99%, O2 ",badVitals:"No capture"},ETCO2:{goodVitals:"45 mm Hg",badVitals:"32 mm Hg"},GCS:{goodVitals:"8",badVitals:"4"},Glucose:{goodVitals:"86 mg/dl(4.8 mmol / l)",badVitals:"86 mg/dl(4.8 mmol / l)"},Pain:{goodVitals:"Unable to access",badVitals:"Unable to access"},Temp:{goodVitals:"96.5 F(35.8 C)",badVitals:"94.8"}},interventions:{"stabilizes-spine":"do","inserts-adjunct":"na","manages-airway":"do","oxygen-therapy":"do","manage-breathing-injury":"do","control-bleeding":"do","control-shock":"say","transport-priority":"do"}};function ue(e){var t={};return e.forEach((function(e){t[e.id]=!1})),t}function be(e){var t={};return Object.keys(e).forEach((function(i){e[i].forEach((function(e){t[e.id]=!1}))})),t}var pe=function(e){e.scenarioId;var t=g().dispLeafNodesInline,i=Object(s.useState)(null),n=Object(d.a)(i,2),a=n[0],r=n[1],l=Object(s.useState)(null),c=Object(d.a)(l,2),o=c[0],u=c[1];Object(s.useEffect)((function(){!function(){var e=Object(oe.a)(de);r(e);var t=function(e){return{vitals:e.initialVitalSigns,vitalsRecomputed:!1,currentNode:null,checkListItems:be(e.items),criticalCriteria:ue(e.criticalCriteria),showForm:(t=e.interventionForms,Object.keys(t).reduce((function(e,t){return e[t]=!1,e}),{}))};var t}(e);u(t)}()}),[]);var p=Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(le,{}),Object(b.jsx)(ce,{})]});return a?Object(b.jsxs)(O,{scenario:a,defaultValues:o,children:[Object(b.jsx)(Q,{leftNav:Object(b.jsx)(W,{}),title:"Scenario: ".concat(a.id),rightNav:p}),t?Object(b.jsx)(B,{}):Object(b.jsx)(ee,{}),Object(b.jsx)(re,{})]}):Object(b.jsx)("div",{children:"Loading scenario..."})},he=function(e){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(Q,{title:"Scenario List"}),Object(b.jsx)(y.a,{children:Object(b.jsxs)(v.a,{children:[Object(b.jsx)(x.a,{sm:"3"}),Object(b.jsxs)(x.a,{sm:"6",children:[Object(b.jsx)("h2",{children:"Your Assigned Scenarios:"}),Object(b.jsx)("ul",{children:[{id:1,name:"PHTC M2CA"},{id:2,name:"Some Other Scenario"}].map((function(e){return Object(b.jsx)("li",{children:Object(b.jsxs)(l.Link,{className:"h3",to:"/scenario/".concat(e.id),children:[" ",e.name]})},e.id)}))})]}),Object(b.jsx)(x.a,{sm:"3"})]})})]})},je=function(e){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(Q,{title:"MedDBriefer Authentication"}),e.children]})},me=function(e){return Object(b.jsx)(o.AuthProvider,{children:Object(b.jsx)(m,{children:Object(b.jsx)(l.HashRouter,{children:Object(b.jsxs)(c.g,{children:[Object(b.jsx)(o.PrivateRoute,{exact:!0,path:"/scenario/:scenarioId",authFlowLayout:je,component:pe}),"// default (catchall) route",Object(b.jsx)(o.PrivateRoute,{authFlowLayout:je,component:he})]})})})})};r.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(me,{})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.c8e3df63.chunk.js.map