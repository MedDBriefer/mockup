{"version":3,"sources":["data/traumaScenarioIndexer.js","contexts/PreferencesContext.js","contexts/ScenarioContext.js","components/MDBContainer.js","components/CheckBox.js","components/CallOutText.js","components/CallOutIcon.js","components/InterventionForm.js","components/CheckListItem.js","components/CheckList.js","components/RevealTableRow.js","components/RevealTable.js","components/RaterInfo.js","components/CheckListRaterInfoLayout.js","components/Outline.js","components/MDBDetailsPane.js","components/NavigationDetailsLayout.js","components/MDBNavBar.js","components/MDBModal.js","components/ScenarioInfo.js","components/PreferencesForm.js","data/scenario.js","routes/Scenario.js","App.js","index.js"],"names":["HEADING","ASSESS","INTERV","REQURED","CRIT_FAIL","TRAUMA_SCENARIO_STRUCTURE","nodeLabels","tree","id","type","children","leaves","label","callouts","stepId","calloutLabel","criticalCriteria","interventionForms","interventions","steps","addNodeLabelsToBranches","labelsMap","map","step","found","console","error","addLeavesToBranches","items","item","deepCopy","object","JSON","parse","stringify","getAssessmentNodes","assessments","node","push","traumaScenarioIndexer","scenario","assessmentFindings","data","scenarioType","info","initialVitalSigns","SAMPLE","reassessmentVitals","Object","entries","key","value","find","ca","calloutText","log","process","exit","keys","callout","addAssessmentFindingsToLeaves","forEach","element","critsWithParents","filter","crit","parent","heading","addCriticalCriteriaToLeaves","intervention","addInterventionCategorizationsToLeaves","assessmentSteps","defaultPrefs","dispLeafNodesInline","dispAssessmentFindingsInline","inhibitRaterOversharing","PreferencesContext","React","createContext","setPref","PreferencesProvider","props","useState","setDispLeafNodesInline","setDispAssessmentFindingsInline","setInhibitRaterOversharing","Provider","name","usePrefs","useContext","ScenarioContext","ScenarioProvider","defaultValues","currentNode","setCurrentNode","currentAssessmentFinding","setCurrentAssessmentFinding","checkListItems","setCheckListItems","setCriticalCriteria","showForm","showInterventionForm","setShowInterventionForm","vitals","currentVitals","setCurrentVitals","vitalsRecomputed","setVitalsRecomputed","isChecked","setChecked","boolVal","prevState","toggleChecked","setDisplayInterventionForm","useEffect","isCurrentAssessmentFinding","toggleAssessmentFinding","stepIsChecked","shouldDisplayInterventionForm","includes","toggleDisplayInterventionForm","setVital","vital","MDBContainer","lhs","rhs","lhsWidth","rhsWidth","Container","fluid","className","Row","Col","md","CheckBox","clickHandler","inlineChildren","classnames","onClick","CallOutText","currentCallOut","CallOutIcon","style","color","InterventionForm","intv","CheckListItem","inlines","isLeafNode","length","CheckList","depth","first","collapsed","setCollapsed","RevealTableRow","values","show","setShow","index","hidden","RevealTable","title","headings","rows","Table","striped","size","row","RaterInfo","defaultTab","activeTab","setActiveTab","activateTab","tab","isActiveTab","Nav","tabs","NavItem","NavLink","active","TabContent","vitalsHeaders","iv","TabPane","tabId","getVitalsTabPane","sample","rec","getSampleTabPane","displayAssessmentFindings","co","getAssessmentFindingsTabPane","CheckListRaterInfoLayout","hasChildren","allChildrenAreHeadings","every","child","Outline","Button","MDBDetailsPane","setLabel","setChildren","verticalAlign","NavigationDetailsLayout","MDBNavBar","scenInfoToggler","activeMockup","setActiveMockup","isCurrentMockup","mockup","Navbar","dark","NavbarBrand","href","event","preventDefault","NavbarText","tag","MDBModal","dismiss","Modal","isOpen","toggle","backdrop","ModalHeader","ModalBody","ScenarioInfo","instructorInformation","patientInformation","moulage","position","actions","dispatchInfo","sceneAssessment","PreferencesForm","handleInputChange","target","checked","onChange","scenarioData","BP","P","R","Skin","Spo2","ETCO2","GCS","Glucose","Pain","Temp","S","A","M","L","E","goodVitals","badVitals","mapArrayOfObjKeysToFalse","array","dict","obj","mapChildObjKeysToFalse","Scenario","scenarioId","setScenario","initValues","setInitValues","showPrefs","setShowPrefs","showScenInfo","setShowScenInfo","scen","defaults","reduce","getDefaultValues","loadScen","togglePrefs","toggleScenInfo","prefsToggler","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.db41059e.chunk.js","sourcesContent":["// the scenarios entered via forms are merely a set of fields and values and\n// aren't organized as steps.  the purpose of this file is to define the\n// structure of a trauma scenario, as\n// * a tree of steps (and weave the scenario-speific info into them)\n// * various other mappings of things so they can be looked up by id,  more details later\n\n// const CHECK = \"check-box\";\n// const RADIO = \"radio-button\";\n\nconst HEADING = \"heading\"; //not a leaf node, simply a step which has child steps\n\nconst ASSESS    = \"assessment\";\nconst INTERV    = \"intervention\"; // an action performed on the patient\nconst REQURED   = \"required-action\"   // an action the EMT performs, but not on the patient\nconst CRIT_FAIL = \"critical-criteria\";\n\nconst TRAUMA_SCENARIO_STRUCTURE = {\n    nodeLabels: {\n        \"bsi\":                              \"BSI\",\n        \"scene-size-up\":                    \"Scene Size-Up\",\n        \"initial-assessment-resuscitation\": \"Primary Survey/Resuscitation\",\n        \"general-assessment\":               \"General Impression and LOC\",\n        \"airway\":                           \"Airway\",\n        \"breathing\":                        \"Breathing\",\n        \"circulation\":                      \"Circulation\",\n        \"transport-decision\":               \"Transport Decision\",\n        \"history-taking\":                   \"History Taking\",\n        \"detailed-physical-examination\":    \"Secondary Assessment\",\n        \"head\":                             \"Head\",\n        \"neck\":                             \"Neck\",\n        \"chest\":                            \"Chest\",\n        \"abdomen-pelvis\":                   \"Abdomen/pelvis\",\n        \"lower-extremities\":                \"Lower extremities\",\n        \"upper-extremities\":                \"Upper extremities\",\n        \"posterior-thorax-lumbar-buttocks\": \"Posterior thorax, lumbar, and buttocks\",\n        \"misc\":                             \"Ongoing management and reassessment\",\n        \"critical-criteria\":                \"Critical Criteria\"\n    },\n    tree: [\n        { id: \"bsi\",           type: HEADING },\n        { id: \"scene-size-up\", type: HEADING },\n        {\n            id: \"initial-assessment-resuscitation\",\n            type: HEADING,\n            children: [\n                { id: 'general-assessment', type: HEADING },\n                { id: \"airway\",             type: HEADING },\n                { id: \"breathing\",          type: HEADING },\n                { id: \"circulation\",        type: HEADING },\n                { id: \"transport-decision\", type: HEADING }\n            ]\n        },\n        { id: \"history-taking\", type: HEADING },\n        {\n            id: \"detailed-physical-examination\",\n            type: HEADING,\n            children: [\n                { id: \"head\",                             type: HEADING },\n                { id: \"neck\",                             type: HEADING },\n                { id: \"chest\",                            type: HEADING },\n                { id: \"abdomen-pelvis\",                   type: HEADING },\n                { id: \"lower-extremities\",                type: HEADING },\n                { id: \"upper-extremities\",                type: HEADING },\n                { id: \"posterior-thorax-lumbar-buttocks\", type: HEADING },\n                { id: \"misc\",                             type: HEADING }\n            ]\n        },\n        { id: \"critical-criteria\", type: HEADING }\n    ],\n    leaves: {\n        'bsi': [\n            { id: \"apply-ppe\",  type: REQURED, label: \"Takes or verbalizes appropriate PPE precautions.\" } // crit criteria 590\n        ],\n        'scene-size-up': [\n            { id: \"assess-scene-safety\",     type: ASSESS, label: \"Determines the scene/situation is safe\" },\n            { id: \"assess-injury-mechanism\", type: ASSESS, label: \"Determines the mechanism of injury/nature of illness\" },\n            { id: \"assess-num-patients\",     type: ASSESS, label: \"Determines the number of patients\" },\n            { id: \"request-addl-help\",       type: ASSESS, label: \"Requests additional help if necessary\" },\n            { id: \"stabilizes-spine\",        type: INTERV, label: \"Stabilizes or directs assistant to stabilize the cervical spine, as indicated\" } // crit criteria 610\n        ],\n        'general-assessment': [\n            { id: \"verbalizes-patient-condition\", type: ASSESS, label: \"Verbalizes general impression of the patient\" },\n            { id: \"determines-loc\",               type: ASSESS, label: \"Determines responsiveness/level of consciousness\" },\n            { id: \"determines-life-threats\",      type: ASSESS, label: \"Determines chief complaint/apparent life-threats\" }\n        ],\n        'airway': [\n            { id: \"assess-airway\",    type: ASSESS, label: \"Opens and assesses airway\" },\n            { id: \"inserts-adjunct\",  type: INTERV, label: \"Inserts appropriately sized adjunct\" }, // action / crit criteria 690\n            { id: \"manages-airway\",   type: INTERV, label: \"Appropriately manages any problems associated with airway\"}\n        ],\n        'breathing': [\n            { id: \"assess-breathing\",        type: ASSESS, label: \"Assesses breathing\" },\n            { id: \"assess-ventilation\",      type: ASSESS, label: \"Assures adequate ventilation\" },\n            { id: \"oxygen-therapy\",          type: INTERV, label: \"Administers oxygen\" }, // crit criteria 620\n            { id: \"manage-breathing-injury\", type: INTERV, label: \"Manages any injury that may compromise breathing/ventilation\" } // crit criteria 630\n        ],\n        'circulation': [\n            { id: \"assess-pulse\",     type: ASSESS, label: \"Checks pulse\" },\n            { id: \"assess-skin\",      type: ASSESS, label: \"Assesses skin [either skin color, temperature, or condition]\" },\n            { id: \"assess-bleeding\",  type: ASSESS, label: \"Assesses for major bleeding\" },\n            { id: \"control-bleeding\", type: INTERV, label: \"Controls major bleeding if present\" },\n            { id: \"control-shock\",    type: INTERV, label: \"Initiates shock management\" } // crit criteria 640\n        ],\n        'transport-decision': [\n            { id: \"transport-priority\", type: REQURED, label: \"Identifies priority patients/makes transport decision based upon calculated GCS\" } // crit criteria 650\n        ],\n        'history-taking': [\n            { id: \"obtains-vitals\",        type: ASSESS, label: \"Obtains, or directs assistant to obtain, baseline vital signs\" }, // point to vitals\n            { id: \"attempt-obtain-sample\", type: ASSESS, label: \"Attempts to obtain SAMPLE history\" } // point to SAMPLE\n        ],\n        'head': [\n            { id: \"assess-mouth-nose-face\", type: ASSESS, label: \"Inspects mouth, nose, and assesses facial area\" },\n            { id: \"assess-scape-ears\",      type: ASSESS, label: \"Inspects and palpates scalp and ears\" },\n            { id: \"assess-perrl\",           type: ASSESS, label: \"Assesses eyes for PERRL\" }\n        ],\n        'neck': [\n            { id: \"assess-trachea\", type: ASSESS, label: \"Inspects position of trachea\" },\n            { id: \"assess-jugular\", type: ASSESS, label: \"Checks jugular veins\" },\n            { id: \"assess-spine\",   type: ASSESS, label: \"Palpates cervical spine\" }\n        ],\n        'chest': [\n            { id: \"inspects-chest\",   type: ASSESS, label: \"Inspects chest\" },\n            { id: \"palpate-chest\",    type: ASSESS, label: \"Palpates chest\" },\n            { id: \"auscultate-chest\", type: ASSESS, label: \"Auscultates chest\" }\n        ],\n        'abdomen-pelvis': [\n            { id: \"assess-abdomen\",   type: ASSESS, label: \"Inspects and palpates abdomen\" },\n            { id: \"assess-pelvis\",    type: ASSESS, label: \"Assesses pelvis\" },\n            { id: \"assess-genitalia\", type: ASSESS, label: \"Verbalizes assessment of genitalia/perineum as needed\" }\n        ],\n        'lower-extremities': [\n            { id: \"assess-right-leg\", type: ASSESS, label: \"Inspects, palpates, and assesses motor, sensory, and distal circulatory functions on right lower extremity\" },\n            { id: \"assess-left-leg\",  type: ASSESS, label: \"Inspects, palpates, and assesses motor, sensory, and distal circulatory functions on left lower extremity\" }\n        ],\n        'upper-extremities': [\n            { id: \"assess-right-arm\", type: ASSESS, label: \"Inspects, palpates, and assesses motor, sensory, and distal circulatory functions on right upper extremity\" },\n            { id: \"assess-left-arm\",  type: ASSESS, label: \"Inspects, palpates, and assesses motor, sensory, and distal circulatory functions on left upper extremity\" }\n        ],\n        \"posterior-thorax-lumbar-buttocks\": [\n            { id: \"assess-posterior-thorax\", type: ASSESS, label: \"Inspects and palpates posterior thorax\" },\n            { id: \"assess-lumbar-buttocks\",  type: ASSESS, label: \"Inspects and palpates lumbar and buttocks area\" }\n        ],\n        \"misc\": [\n            { id: \"manage-secondary-injuries\", type: REQURED, label: \"Manages secondary injuries and wounds appropriately\" },\n            { id: \"performs-ongoing-assessment\", type: REQURED, label: \"Reassesses Patient\" }\n        ],\n        \"critical-criteria\": [] // these need to all be woven in by the scenario builder, as what goes here is depending on some options\n    },\n    callouts: [\n        { stepId: \"assess-scene-safety\",           calloutLabel: \"Scene Safety\" },\n        { stepId: \"assess-injury-mechanism\",       calloutLabel: \"Mechanism of Injury\" },\n        { stepId: \"assess-num-patients\",           calloutLabel: \"Num Patients\" },\n        { stepId: \"request-addl-help\",             calloutLabel: \"Additional Help\" },\n        { stepId: \"verbalizes-patient-condition\",  calloutLabel: \"Condition\" },\n        { stepId: \"determines-loc\",                calloutLabel: \"LOC\" },\n        { stepId: \"determines-life-threats\",       calloutLabel: \"Life Threats\" },\n        { stepId: \"assess-airway\",                 calloutLabel: \"Airway\" },\n        { stepId: \"assess-breathing\",              calloutLabel: \"Breathing\" },\n        { stepId: \"assess-ventilation\",            calloutLabel: \"Ventilations\" },\n        { stepId: \"assess-pulse\",                  calloutLabel: \"Pulse\" },\n        { stepId: \"assess-skin\",                   calloutLabel: \"Skin\" },\n        { stepId: \"assess-bleeding\",               calloutLabel: \"Bleeding\" },\n        { stepId: \"assess-mouth-nose-face\",        calloutLabel: \"Face\" },\n        { stepId: \"assess-scape-ears\",             calloutLabel: \"Ears\" },\n        { stepId: \"assess-perrl\",                  calloutLabel: \"PERRL\" },\n        { stepId: \"assess-trachea\",                calloutLabel: \"Trachea\" },\n        { stepId: \"assess-jugular\",                calloutLabel: \"Jugular\" },\n        { stepId: \"assess-spine\",                  calloutLabel: \"Assess C-Spine\" },\n        { stepId: \"inspects-chest\",                calloutLabel: \"Inspect Chest\" },\n        { stepId: \"palpate-chest\",                 calloutLabel: \"Palpate Chest\" },\n        { stepId: \"auscultate-chest\",              calloutLabel: \"Auscultates Chest\" },\n        { stepId: \"assess-abdomen\",                calloutLabel: \"Abdomen\" },\n        { stepId: \"assess-pelvis\",                 calloutLabel: \"Pelvis\" },\n        { stepId: \"assess-genitalia\",              calloutLabel: \"Genitalia\" },\n        { stepId: \"assess-left-leg\",               calloutLabel: \"Left Leg\" },\n        { stepId: \"assess-right-leg\",              calloutLabel: \"Right Leg\" },\n        { stepId: \"assess-left-arm\",               calloutLabel: \"Left Arm\" },\n        { stepId: \"assess-right-arm\",              calloutLabel: \"Right Arm\" },\n        { stepId: \"assess-posterior-thorax\",       calloutLabel: \"Posterior/Thorax\" },\n        { stepId: \"assess-lumbar-buttocks\",        calloutLabel: \"Lumbar/Buttocks\" }\n    ],\n    criticalCriteria: [\n        // we might be able to auto-check based off of timer expiring\n        // { id: \"critial-failure-timely-transport-decision\",       type: CRIT_FAIL, parent: \"transport-decision\", label: \"Failure to initiate or call for transport of the patient within 10 minute time limit\" },\n        // true if 'apply-ppe' not checked?\n        // { id: \"critical-failure-ppe\",                            type: CRIT_FAIL, parent: \"bsi\",                label: \"Failure to take or verbalize appropriate PPE precautions\" },\n        // true if 'assess-scene-safety' not checked?\n        // { id: \"critical-failure-scene-safety\",                   type: CRIT_FAIL, parent: \"scene-size-up\",      label: \"Failure to determine scene safety\" },\n        // true if 'stabilize-spine' not checked AND indicated?\n        // { id: \"critical-failure-spinal-protection\",              type: CRIT_FAIL, parent: \"scene-size-up\",      label: \"Failure to assess for and provide spinal protection when indicated\" },\n        // { id: \"critical-failure-oxygen-supply\",                  type: CRIT_FAIL, parent: \"breathing\",          label: \"Failure to voice and ultimately provide high concentration of oxygen\" },\n        // true if ANY of the ventiliation\n        // { id: \"critical-failure-ventilation\",                    type: CRIT_FAIL, parent: \"breathing\",          label: \"Failure to assess/provide adequate ventilation\" },\n        // not giving this one a parent, as it belongs to a heading whose only other children are other headings, making it\n        // problematic in the navigation/details layout - readdress this if we don't go with that\n        // { id: \"critical-failure-manage-life-threats\",            type: CRIT_FAIL,                               label: \"Failure to find or appropriately manage problems associated with airway, breathing, hemorrhage or shock [hypoperfusion]\" },\n        // combine below with 580?\n        // { id: \"critical-failure-differentiate-immediate-transport-vs-on-scene-treatment\",  type: CRIT_FAIL, parent: \"transport-decision\", label: \"Failure to differentiate patient's need for immediate transportation versus continued assessment/treatment at the scene\" },\n        // { id: \"critical-failure-prioritizing-non-life-threats\",  type: CRIT_FAIL,                               label: \"Does other detailed history or physical exam before assessing/treating threats to airway, breathing, and circulation\" },\n        // { id: \"critical-failure-incompetence\",                   type: CRIT_FAIL,                               label: \"Failure to manage the patient as a competent EMT\" },\n        // { id: \"critical-failure-unacceptable-affect\",            type: CRIT_FAIL,                               label: \"Exhibits unacceptable affect with patient or other personnel\" },\n        { id: \"critical-failure-inapproriate-intervention\",      type: CRIT_FAIL,                               label: \"Uses or orders a dangerous or inappropriate intervention\" },\n        { id: \"critical-failure-inapproriate-behavior\",          type: CRIT_FAIL,                               label: \"Exhibits unprofessional behavior\" }\n    ],\n    interventionForms: {\n        // Each selected intervention should, by default, also include an 'other / incorrect intervention' option\n        // Each object title matches checklist item id for easier mapping\n        \"stabilizes-spine\": {\n            id: \"c-spine-interventions\",\n            interventions: [\n                { id: \"c-spine-intervention-10\", label: \"Holds manual stabilization\" },\n                { id: \"c-spine-intervention-20\", label: \"Applies cervical collar\" }\n            ],\n            steps: [\n                { id: 'bogus-step-1', label: \"bogus step 1\" },\n                { id: 'bogus-step-2', label: \"bogus step 2\" }\n            ],\n            criticalCriteria: [\n                { id: \"bogus-crit-1\", label: \"bogus critical criteria 1\" },\n                { id: \"bogus-crit-2\", label: \"bogus critical criteria 2\" },\n            ]\n        },\n        \"inserts-adjunct\": {\n            id: \"adjunct-interventions\",\n            interventions: [\n                { id: \"adjunct-intervention-10\", label: \"Inserts OPA\" },\n                { id: \"adjunct-intervention-20\", label: \"Inserts NPA\" },\n            ],\n            steps: [\n                { id: 'bogus-step-1', label: \"bogus step 1\" },\n                { id: 'bogus-step-2', label: \"bogus step 2\" }\n            ],\n            criticalCriteria: [\n                { id: \"bogus-crit-1\", label: \"bogus critical criteria 1\" },\n                { id: \"bogus-crit-2\", label: \"bogus critical criteria 2\" },\n            ]\n        },\n        \"manages-airway\": {\n            id: \"airway-interventions\",\n            interventions: [\n                { id: \"airway-intervention-10\", label: \"bogus intervetion1\" },\n                { id: \"airway-intervention-20\", label: \"bogus intervention2\" },\n            ],\n            steps: [\n                { id: 'bogus-step-1', label: \"bogus step 1\" }\n            ],\n            criticalCriteria: [\n                { id: \"bogus-crit-1\", label: \"bogus critical criteria 1\" },\n                { id: \"bogus-crit-2\", label: \"bogus critical criteria 2\" },\n                { id: \"bogus-crit-3\", label: \"bogus critical criteria 3\" },\n            ]\n        },\n        \"oxygen-therapy\": {\n            id: \"oxygen-therapy-interventions\",\n            interventions: [\n                { id: \"ventilation-intervention-10\", label: \"Endotracheal intubation\" },\n                { id: \"ventilation-intervention-20\", label: \"Bag-valve mask\" },\n            ],\n            steps: [\n                { id: \"bogus-step-1\", label: \"bogus step 1\" },\n                { id: \"bogus-step-2\", label: \"bogus step 2\" },\n            ],\n            criticalCriteria: [\n                { id: \"bogus-crit-1\", label: \"bogus critical criteria 1\" },\n                { id: \"bogus-crit-2\", label: \"bogus critical criteria 2\" },\n            ]\n        },\n        \"manage-breathing-injury\": {\n            id: \"manage-breathing-injury-intervention\",\n            interventions: [\n                {id: \"manage-breathing-intervention-10\", label: \"bogus intervention 1\"},\n                {id: \"manage-breathing-intervention-29\", label: \"bogus intervention 2\"}\n            ],\n            steps: [\n                {id: \"bogus-step-1\", label: \"bogus step 1\" },\n                {id: \"bogus-step-2\", label: \"bogus step 2\" },\n            ],\n            criticalCriteria: [\n                { id: \"bogus-crit-1\", label: \"bogus critical criteria 1\" },\n                { id: \"bogus-crit-2\", label: \"bogus critical criteria 2\" },\n\n            ]\n        },\n        \"control-bleeding\": {\n            id: \"bleeding-interventions\",\n            interventions: [\n                { id: \"bleeding-intervention-10\", label: \"Applies direct pressure\" },\n                { id: \"bleeding-intervention-20\", label: \"Applies tourniquet\" }\n            ],\n            steps: [\n                { id: \"bogus-step-1\", label: \"bogus step 1\" },\n                { id: \"bogus-step-2\", label: \"bogus step 2\" },\n            ],\n            criticalCriteria: [ // Critical criteria should automatically be check boxes\n                { id: \"bleeding-crit-30\", type: CRIT_FAIL, label: \"Did not control hemorrhage using correct procedures in a timely manner\" },\n                { id: \"bleeding-crit-40\", type: CRIT_FAIL, label: \"Did not apply direct pressure to wound before applying tourniquet\" },\n                { id: \"bleeding-crit-50\", type: CRIT_FAIL, label: \"Did not properly position the patient\" },\n                { id: \"bleeding-crit-60\", type: CRIT_FAIL, label: \"Did not take steps to prevent heat loss\" }\n            ]\n        },\n        \"control-shock\": {\n            id: \"shock-interventions\",\n            interventions: [\n                { id: \"shock-intervention-10\", label: \"IV fluid therapy--Peripheral IV insertion\" },\n                { id: \"shock-intervention-20\", label: \"IV fluid therapy--IV Push/Bolus\" },\n                { id: \"shock-intervention-30\", label: \"Covers patient\" }\n            ],\n            steps: [\n                { id: \"bogus-step-1\", label: \"bogus step 1\" },\n                { id: \"bogus-step-2\", label: \"bogus step 2\" },\n            ],\n            criticalCriteria: [\n                { id: \"shock-crit-10\", type: CRIT_FAIL, label: \"Fails to establish a patent and properly adjusted IV within 6-minute time limit\" },\n                { id: \"shock-crit-20\", type: CRIT_FAIL, label: \"Fails to establish IV within 3 attempts during 6-minute time limit\" },\n                { id: \"shock-crit-30\", type: CRIT_FAIL, label: \"Contaminates equipment or site without appropriately correcting situation\" },\n                { id: \"shock-crit-40\", type: CRIT_FAIL, label: \"Performs any improper technique resulting in the potential for uncontrolled hemorrhage, catheter shear, or air embolism\" },\n                { id: \"shock-crit-50\", type: CRIT_FAIL, label: \"Fails to dispose/verbalize disposal of blood-contaminated sharps immediately in proper container at point of use\" }\n            ]\n        },\n        \"transport-priority\": {\n            id: \"transport-interventions\",\n            interventions: [\n                { id: \"transport-intervention-10\", label: \"Scoop Stretcher\" },\n                { id: \"transport-intervention-20\", label: \"Supine Long Backboard\" },\n            ],\n            steps: [\n                { id: \"bogus-step-1\", label: \"bogus step 1\" },\n                { id: \"bogus-step-2\", label: \"bogus step 2\" },\n            ],\n            criticalCriteria: [\n                { id: \"transport-crit-10\", type: CRIT_FAIL, label: \"Did not immediately direct or take manual immobilization of head\" },\n                { id: \"transport-crit-20\", type: CRIT_FAIL, label: \"Did not properly apply appropriately sized cervical collar before ordering releaseof manual immobilization\" },\n                { id: \"transport-crit-30\", type: CRIT_FAIL, label: \"Released or ordered relase of manual immobilization before it was maintained mechanically\" },\n                { id: \"transport-crit-40\", type: CRIT_FAIL, label: \"Manipulated or moved patient excessively causing potential spinal compromise\" },\n                { id: \"transport-crit-50\", type: CRIT_FAIL, label: \"Head immobilized to the device before device sufficiently secured to torso\" },\n                { id: \"transport-crit-60\", type: CRIT_FAIL, label: \"Patient moves excessively up, down, left, or right on the device\" },\n                { id: \"transport-crit-70\", type: CRIT_FAIL, label: \"Head immobilization allows for excessive movement\" },\n                { id: \"transport-crit-80\", type: CRIT_FAIL, label: \"Upon completion of immobilization, head is not in a neutral, in-line position\" },\n                { id: \"transport-crit-90\", type: CRIT_FAIL, label: \"Did not reassess motor, sensory, and circulatory functions in each extremity after immobilizing patient to the device\" }\n            ]\n        }\n    }\n};\n\n\n\nfunction addAssessmentFindings(assessmentFindings) {\n    return Object.entries(assessmentFindings).map(([key, value]) => {\n        const found = TRAUMA_SCENARIO_STRUCTURE.callouts.find((ca) => ca.stepId === key)\n        if (found) {\n            found.calloutText = value;\n        } else {\n            console.log(\"ERROR key not found!\", key);\n            process.exit(1)\n        }\n        return found;\n    })\n}\n\n\n// eslint-disable-next-line\nfunction addAssessmentFindingsToLeaves(items, callouts) {\n\n    for (const { stepId, calloutLabel, calloutText } of callouts) {\n        // console.log(stepId, calloutLabel, calloutText)\n        for (const key of Object.keys(items)) {\n            let children = items[key].map((item) =>\n                item.id === stepId\n                    ? { ...item, calloutLabel: calloutLabel, callout: calloutText }\n                    : item\n            )\n            items[key] = children\n        }\n    }\n    return items;\n}\n\nfunction addInterventionCategorizationsToLeaves(items, interventions) {\n    for (const [stepId, value] of Object.entries(interventions)) {\n        for (const key of Object.keys(items)) {\n            let children = items[key].map((item) =>\n                item.id === stepId\n                    ? {...item, intervention: value}\n                    : item\n            )\n            items[key] = children\n        }\n    }\n}\n\nfunction addCriticalCriteriaToLeaves(items, criticalCriteria) {\n    // add all to the critical criteria step, components can elect not to display\n    // ones with parents\n    criticalCriteria.forEach(element => {\n        items['critical-criteria'].push(element)\n    });\n    // append specific ones to the approriate 'items' based off their parent\n    // (if present)\n\n    const critsWithParents = criticalCriteria.filter((crit) => !!crit.parent)\n    for (const heading of Object.keys(items)) {\n        // console.log(\"\\n\", heading)\n        for (const crit of critsWithParents.filter((crit) => crit.parent === heading)) {\n            items[heading].push(crit)\n        }\n    }\n    // process.exit(0)\n}\n\n\n\nfunction addEmptyChildren(array) {\n    return array.map((item) =>\n        !item.children\n            ? { ...item, children: [] }\n            : item\n    )\n}\n\nfunction addNodeLabelsToBranches(steps, labelsMap) {\n    return steps.map((step) => {\n        let found = (step.id in labelsMap) ? labelsMap[step.id] : false;\n        if (!found) {\n            console.error(`label for ${step.id} not found!`)\n        } else {\n            step.label = found;\n        }\n        if (step.children) {\n            step.children = addNodeLabelsToBranches(step.children, labelsMap)\n        }\n        return step\n    })\n}\n\nfunction addLeavesToBranches(steps, items) {\n    return steps.map((step) => {\n        if (!step.children) {\n            step.children = (step.id in items) ? addEmptyChildren(items[step.id]) : []\n        } else {\n            step.children = addLeavesToBranches(step.children, items);\n        }\n        return step;\n    });\n}\n\nfunction deepCopy(object) {\n    return JSON.parse(JSON.stringify(object))\n}\n\nfunction getAssessmentNodes(tree, assessments=[]) {\n    // console.log(tree)\n    for (const node of tree) {\n        if (node.type === 'assessment') {\n            assessments.push(node)\n        } else if (node.type === 'heading') {\n            assessments = getAssessmentNodes(node.children, assessments)\n        }\n    }\n    return assessments;\n}\n\nconst traumaScenarioIndexer = (scenario) => {\n    const data = {\n        id: scenario.id,\n        scenarioType: scenario.scenarioType,\n        info: scenario.info,\n        initialVitalSigns: scenario.initialVitalSigns,\n        SAMPLE: scenario.SAMPLE,\n        reassessmentVitals: scenario.reassessmentVitals,\n        interventionForms: deepCopy(TRAUMA_SCENARIO_STRUCTURE.interventionForms),\n        criticalCriteria: deepCopy(TRAUMA_SCENARIO_STRUCTURE.criticalCriteria),\n        nodeLabels: deepCopy(TRAUMA_SCENARIO_STRUCTURE.nodeLabels),\n        items: deepCopy(TRAUMA_SCENARIO_STRUCTURE.leaves),\n    }\n    // callouts are defined separately, as 1. it's easier to access them from the\n    // right pane this way, and 2. it's easier to modify their labels if they're listed\n    // sequentially, rather than in the tree or leaves structures\n    // also, while we've changed the labels to 'Assessment Findings', I'm keeping things\n    // as callouts now, so we don't have to change all of the props, code, etc\n    data.callouts = addAssessmentFindings(scenario.assessmentFindings)\n    addAssessmentFindingsToLeaves(data.items, data.callouts)\n    addCriticalCriteriaToLeaves(data.items, TRAUMA_SCENARIO_STRUCTURE.criticalCriteria)\n    addInterventionCategorizationsToLeaves(data.items, scenario.interventions)\n    const steps = addNodeLabelsToBranches(TRAUMA_SCENARIO_STRUCTURE.tree, TRAUMA_SCENARIO_STRUCTURE.nodeLabels)\n    data.steps = addLeavesToBranches(steps, data.items)\n\n    // filter through tree of steps, creating ordered list of assessment steps'\n    const assessments = getAssessmentNodes(steps)\n    // console.log(assessments)\n    data.assessmentSteps = assessments;\n    return data;\n}\n\n\nexport default traumaScenarioIndexer\n","import React, {useState, useContext} from \"react\"\n\n// const defaultPrefs = {\n//     dispLeafNodesInline: true,\n//     dispAssessmentFindingsInline: true,\n//     inhibitRaterOversharing: false\n// }\n\nconst defaultPrefs = {\n    dispLeafNodesInline: false,\n    dispAssessmentFindingsInline: true,\n    inhibitRaterOversharing: true\n}\n\nconst noop = () => {}\nexport const PreferencesContext = React.createContext({...defaultPrefs, setPref: noop})\n\n\nexport const PreferencesProvider = (props) => {\n    const [dispLeafNodesInline, setDispLeafNodesInline] = useState(defaultPrefs.dispLeafNodesInline)\n    const [dispAssessmentFindingsInline, setDispAssessmentFindingsInline] = useState(defaultPrefs.dispAssessmentFindingsInline)\n    const [inhibitRaterOversharing, setInhibitRaterOversharing] = useState(defaultPrefs.inhibitRaterOversharing)\n\n    const setPref = (name, value) => {\n        switch(name) {\n            case \"dispLeafNodesInline\":\n                setDispLeafNodesInline(value)\n                break\n            case \"dispAssessmentFindingsInline\":\n                setDispAssessmentFindingsInline(value)\n                break;\n            case \"inhibitRaterOversharing\":\n                setInhibitRaterOversharing(value)\n                break\n            default:\n                console.log(`not setting unknown pref ${name} to ${value}`)\n        }\n    }\n\n    return (\n        <PreferencesContext.Provider\n            value={{\n                dispLeafNodesInline,\n                dispAssessmentFindingsInline,\n                inhibitRaterOversharing,\n                setPref\n            }}\n        >\n            {props.children}\n        </PreferencesContext.Provider>\n    )\n}\n\nexport const usePrefs = () => useContext(PreferencesContext)\n","import React, {\n    useState,\n    useEffect\n} from \"react\"\n\nexport const ScenarioContext = React.createContext()\n\nexport const ScenarioProvider = ({scenario, defaultValues, children}) =>{\n\n    const [currentNode, setCurrentNode] = useState(defaultValues.currentNode)\n    const [currentAssessmentFinding, setCurrentAssessmentFinding] = useState(null)\n    const [checkListItems, setCheckListItems] = useState(defaultValues.checkListItems)\n    const [criticalCriteria, setCriticalCriteria] = useState(defaultValues.criticalCriteria)\n    const [showInterventionForm, setShowInterventionForm] = useState(defaultValues.showForm)\n    const [currentVitals, setCurrentVitals] = useState(defaultValues.vitals)\n    const [vitalsRecomputed, setVitalsRecomputed] = useState(defaultValues.vitalsRecomputed)\n\n    const isChecked = (id) => {\n        return checkListItems[id]\n    }\n\n    const setChecked = (id, boolVal) => {\n        setCheckListItems(prevState => ({\n            ...prevState, [id]: boolVal\n        }))\n    }\n\n    const toggleChecked = (id) => {\n        setChecked(id, !checkListItems[id])\n    }\n\n    const isCurrentAssessmentFinding = (id) => {\n        return !!currentAssessmentFinding && currentAssessmentFinding === id\n    }\n\n    const toggleAssessmentFinding = (id) => {\n        const stepIsChecked = isChecked(id)\n        setCurrentAssessmentFinding(!stepIsChecked ? id : null)\n        toggleChecked(id)\n    }\n\n    const shouldDisplayInterventionForm = (id) => {\n        return Object.keys(showInterventionForm).includes(id) && showInterventionForm[id]\n    }\n\n    const setDisplayInterventionForm = (id, boolVal) => {\n        setShowInterventionForm(prevState => ({\n            ...prevState, [id]: boolVal\n        }))\n    }\n\n    const toggleDisplayInterventionForm = (id) => {\n        setDisplayInterventionForm(id, !showInterventionForm[id])\n    }\n\n    const setVital = (vital, value) => {\n        setCurrentVitals(prevState => ({\n            ...prevState, [vital]: value\n        }))\n    }\n\n    useEffect(\n        () => {\n            // as both class components .setState() and functional components useState() setters\n            // both actually queue the setting of state, as an performance optimization for when\n            // there are individual requests for state changes made in a relatively short period\n            // of time,  making use of a useEffect() with a dependency array of all state variables\n            // we're interested in persisting to the db is a perfect place to capture when they\n            // have actually been changed, and thus persist those changes.  since we're not hooked\n            // up to the db yet, I'm merely console.log()ing that things have changed, and listing\n            // what state we'll be persisting to the db.\n            console.log(\"current state\", {\n                currentNode,\n                currentAssessmentFinding,\n                checkListItems,\n                criticalCriteria,\n                showInterventionForm,\n                currentVitals,\n                vitalsRecomputed\n            })\n        },\n        [\n            currentNode,\n            currentAssessmentFinding,\n            checkListItems,\n            criticalCriteria,\n            showInterventionForm,\n            currentVitals,\n            vitalsRecomputed\n        ]\n    )\n\n    return (\n        <ScenarioContext.Provider\n            value={{\n                scenario,\n                isChecked,\n                setChecked,\n                toggleChecked,\n                currentNode,\n                setCurrentNode,\n                isCurrentAssessmentFinding,\n                toggleAssessmentFinding,\n                shouldDisplayInterventionForm,\n                setDisplayInterventionForm,\n                toggleDisplayInterventionForm,\n                setCriticalCriteria,\n                currentVitals,\n                setVital,\n                vitalsRecomputed,\n                setVitalsRecomputed\n            }}\n        >\n            {children}\n        </ScenarioContext.Provider>\n    )\n}","import React from 'react'\nimport {\n    Container,\n    Row,\n    Col\n} from 'reactstrap'\n\nconst MDBContainer = ({lhs, rhs, lhsWidth=6, rhsWidth=6}) => {\n\n    return (\n        <Container fluid={true} className=\"main\">\n            <Row>\n                <Col md={lhsWidth} className=\"col\">\n                    {lhs}\n                </Col>\n                <Col md={rhsWidth} className=\"col\">\n                    {rhs}\n                </Col>\n            </Row>\n        </Container>\n    )\n}\n\nexport default MDBContainer","import React, { useContext } from \"react\";\n\nimport classnames from \"classnames\"\n\nimport { ScenarioContext } from \"../contexts/ScenarioContext\"\n\nconst CheckBox = (props) => {\n  // need props param to exist in order to access props.children\n\n  const { step, clickHandler, inlineChildren = [] } = props\n\n  const { isChecked } = useContext(ScenarioContext)\n\n  return (\n    <>\n      <label\n        className={classnames({\"text-danger\": step.type === 'critical-criteria'})}\n        onClick={() => clickHandler(step.id)}\n      >\n        <span\n          className=\"checkbox-icon material-icons-outlined\"\n        >\n          {isChecked(step.id) ? \"check_box\": \"check_box_outline_blank\"}\n        </span>\n        <b>{step.label}</b>\n        {inlineChildren}\n      </label>\n      { !!props.children &&\n        props.children\n      }\n    </>\n  )\n\n}\n\nexport default CheckBox;\n","import React, { useContext } from \"react\";\n\nimport classnames from \"classnames\";\n\nimport { ScenarioContext } from \"../contexts/ScenarioContext\"\n\n\nconst CallOutText = ({ step }) => {\n\n  const {isCurrentAssessmentFinding} = useContext(ScenarioContext)\n\n  return  (\n    <span className={classnames(\"callout\", {currentCallOut: isCurrentAssessmentFinding(step.id)})}>\n      {step.callout}\n    </span>\n  )\n\n}\n\nexport default CallOutText;","import React, { useContext } from \"react\";\n\nimport { ScenarioContext } from \"../contexts/ScenarioContext\"\n\nconst CallOutIcon = ({ step }) => {\n\n  const { isChecked } = useContext(ScenarioContext)\n\n  return (\n    isChecked(step.id)\n    ?\n      <span\n        className=\"callout-icon material-icons-outlined\"\n        style={{color:'grey'}}\n      >\n        message\n      </span>\n    :\n      <span\n        className=\"callout-icon material-icons-outlined\"\n      >\n        message\n      </span>\n  )\n}\nexport default CallOutIcon;\n","import React, { useContext } from \"react\"\n\nimport { ScenarioContext } from \"../contexts/ScenarioContext\"\n\nconst InterventionForm = ({step}) => {\n\n    const { scenario, shouldDisplayInterventionForm, toggleChecked } = useContext(ScenarioContext)\n\n    const getInterventionsList = () => {\n        return (\n            scenario.interventionForms[step.id].interventions.map((intv) => (\n                <div key={intv.id}>\n                    <label>\n                        <input type=\"checkbox\" />\n                        &nbsp; {intv.label}\n                    </label>\n                </div>\n            ))\n        )\n    }\n\n\n    if (!shouldDisplayInterventionForm(step.id)) {\n        return (<div></div>)\n    } else {\n        return (\n            <div className=\"intervention-form\">\n                <form>\n                    { getInterventionsList() }\n                    <button\n                        type=\"button\"\n                        className=\"btn btn-primary btn-small\"\n                        onClick={() => toggleChecked(step.id)}\n                    >\n                        Submit\n                    </button>\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default InterventionForm","import React, { useContext } from \"react\"\n\nimport { ScenarioContext } from \"../contexts/ScenarioContext\"\nimport { usePrefs } from \"../contexts/PreferencesContext\"\n\nimport CheckBox from \"./CheckBox\"\nimport CallOutText from \"./CallOutText\"\nimport CallOutIcon from \"./CallOutIcon\"\nimport InterventionButton from \"./InterventionButton\"\nimport InterventionForm from \"./InterventionForm\"\n\nconst CheckListItem = ({step}) => {\n    const { dispAssessmentFindingsInline } = usePrefs()\n    const {\n        isChecked,\n        toggleChecked,\n        toggleAssessmentFinding,\n        toggleDisplayInterventionForm\n    } = useContext(ScenarioContext)\n\n    switch (step.type) {\n        case 'assessment':\n            const inlines = (<CallOutIcon step={step} />)\n            return (\n                <CheckBox\n                    step={step}\n                    clickHandler={toggleAssessmentFinding}\n                    inlineChildren={inlines}\n                >\n                    {dispAssessmentFindingsInline &&\n                        <div>\n                            {isChecked(step.id) &&\n                                <CallOutText step={step} />\n                            }\n                        </div>\n                    }\n                </CheckBox>\n            )\n        case 'intervention':\n            const clickHandler = (step.intervention === \"say\")\n                ? toggleChecked\n                : toggleDisplayInterventionForm\n\n            // const ib = (<InterventionButton step={step} /> )\n\n            return (\n                <CheckBox\n                    step={step}\n                    clickHandler={clickHandler}\n                    // inlineChildren={ib}\n                >\n                    <InterventionForm step={step} />\n                </CheckBox>\n            )\n        default:\n            // case 'required-action':\n            // case 'critical-criteria':\n            // case 'execution-error':\n            return (\n                <CheckBox\n                    step={step}\n                    clickHandler={toggleChecked}\n                />\n            )\n        }\n\n}\n\n\nexport default CheckListItem;","import React, { useState } from \"react\";\n\nimport classnames from \"classnames\";\n\nimport CheckListItem from \"./CheckListItem\"\n\nconst isLeafNode = (step) => {\n  return !step.children.length > 0\n}\n\nexport default function CheckList({ steps, heading, depth = 3, first = false}){\n  const [collapsed, setCollapsed] = useState(false);\n  const toggle = () => {\n    console.log(\"toggling\");\n    setCollapsed(!collapsed);\n  }\n  return (\n    <ul className={classnames({first:  first})}>\n      {steps.map((step) => (\n        <li key={`li-${step.id}`}>\n          {isLeafNode(step)\n          ?\n            <CheckListItem step={step} />\n          :\n            <>\n              <p\n                className={`h${depth}`}\n                onClick={() => toggle()}>\n                  {step.label}\n              </p>\n              <CheckList\n                  steps={step.children}\n                  depth={depth + 1}\n              />\n            </>\n          }\n        </li>\n      )\n      )}\n    </ul>\n  )\n\n}\n","import React, { useState } from \"react\"\n\nimport { usePrefs } from \"../contexts/PreferencesContext\"\n\nimport classnames from \"classnames\"\n\n\nexport default function RevealTableRow({label, values}) {\n    const {inhibitRaterOversharing} = usePrefs()\n    const [show, setShow] = useState(false)\n    const toggle = () => setShow(!show)\n\n    return (\n        <tr>\n            { (!inhibitRaterOversharing)\n            ?\n                <th>{label}</th>\n            :\n                <th onClick={() => toggle()}>{label} </th>\n            }\n            {\n                values.map((value, index) => (\n                    <td key={ index }>\n                        {(!inhibitRaterOversharing)\n                            ?\n                            <span >{value}</span>\n                            :\n                            <span className={classnames({ hidden: !show })}>\n                                {value}\n                            </span>\n                        }\n                    </td>\n                ))\n            }\n        </tr>\n    )\n\n}","import React from \"react\"\n\nimport { Table } from \"reactstrap\"\n\nimport RevealTableRow from \"./RevealTableRow\"\n\nexport default function RevealTable({title, headings=[], rows=[]}) {\n\n    return (\n        <Table striped={true} size=\"sm\">\n            <thead>\n                <tr>\n                    {\n                        headings.map((heading, index) => (\n                            <th key={index}>{heading}</th>\n                        ))\n                    }\n                </tr>\n            </thead>\n            <tbody>\n                {rows.map((row, index) =>\n                    <RevealTableRow\n                        key={index}\n                        label={row.label}\n                        values={row.value}\n                    />\n                )}\n            </tbody>\n        </Table>\n    )\n}","\nimport React,{ useState, useContext, useEffect } from \"react\"\n\nimport {\n    Nav,\n    NavItem,\n    NavLink,\n    TabContent,\n    TabPane,\n    Table,\n} from \"reactstrap\"\n\nimport classnames from \"classnames\"\n\nimport { usePrefs } from \"../contexts/PreferencesContext\"\nimport { ScenarioContext } from \"../contexts/ScenarioContext\"\n\nimport CallOutText from \"./CallOutText\"\nimport RevealTable from \"./RevealTable\"\n\nexport default function RaterInfo({defaultTab = \"callouts\"}) {\n    const {dispAssessmentFindingsInline} = usePrefs()\n    const {scenario, isChecked, currentVitals, vitalsRecomputed} = useContext(ScenarioContext)\n    const [activeTab, setActiveTab] = useState(defaultTab)\n    const activateTab = (tab) => {\n        if (activeTab !== tab) setActiveTab(tab)\n    }\n    const isActiveTab = (tab) => tab === activeTab\n\n    // useEffect(\n    //     () => {\n    //         // console.log(`setting active tab to \"${activeTab}\"`)\n    //         // disable the callouts tab ability to be active if assessment findings\n    //         // are supposed to be displayed inline\n    //         if (activeTab === \"callouts\" && dispAssessmentFindingsInline) {\n    //             setActiveTab(\"vitals\")\n    //         }\n    //     }, [dispAssessmentFindingsInline, activeTab]\n    // )\n\n    const getAssessmentFindingsTabPane = () => {\n        const checkedAssessmentSteps = scenario.assessmentSteps.filter(step => isChecked(step.id))\n        const callouts = checkedAssessmentSteps.map(step => {\n            return {\n                id: step.id,\n                label: step.calloutLabel,\n                value: [\n                    <CallOutText\n                        key={step.id}\n                        step={step}\n                        displayAssessmentFindings={true}\n                    />\n                ]\n            }\n        })\n        return (\n            <TabPane tabId = \"callouts\" >\n                {callouts.length > 0 &&\n                    <Table size=\"sm\" striped={true}>\n                        <thead>\n                            <tr>\n                                <th>Assessment</th>\n                                <th>Finding</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {callouts.map((co) => (\n                                <tr key={co.id}>\n                                    <th>{co.label}</th>\n                                    <td>{co.value}</td>\n                                </tr>\n                                )\n                            )}\n                        </tbody>\n                    </Table>\n                }\n            </TabPane >\n        )\n    }\n\n    const getSampleTabPane = () => {\n        const sample = Object.entries(scenario.SAMPLE).map(rec => {\n            return { label: rec[0], value: [rec[1]] }\n        })\n        return (\n            <TabPane tabId = \"sample\" >\n                <RevealTable\n                    title=\"SAMPLE\"\n                    headings={[\"Type\", \"Value\"]}\n                    rows={sample}\n                />\n            </TabPane >\n        )\n    }\n\n    const getVitalsTabPane = () => {\n        // vitals tab will display either 2 or 3 columns, depending on\n        // whether vitals have been recomputed, and thus we need to display\n        // both the initial and current value\n        const vitalsHeaders =\n            vitalsRecomputed\n            ? [\"Vital Sign\", \"Initial Value\", \"Current Value\"]\n            : [\"Vital Sign\", \"Current Value\"]\n\n        const vitals = Object.entries(scenario.initialVitalSigns).map(iv => {\n            const value =\n                vitalsRecomputed\n                ? [ iv[1], currentVitals[iv[0]] ]\n                : [ iv[1] ]\n\n            return {\n                label: iv[0],\n                value: value\n            }\n        })\n\n        return (\n            <TabPane tabId = \"vitals\" >\n                <RevealTable\n                    title=\"Vitals\"\n                    headings={vitalsHeaders}\n                    rows={vitals}\n                />\n            </TabPane >\n        )\n    }\n\n    return (\n        <>\n            <Nav tabs>\n                <NavItem>\n                    <NavLink\n                        className={classnames({ active: isActiveTab('vitals') })}\n                        onClick={() => activateTab('vitals')}\n                    >\n                        Vitals\n                    </NavLink>\n                </NavItem>\n                <NavItem>\n                    <NavLink\n                        className={classnames({ active: isActiveTab('sample') })}\n                        onClick={() => activateTab('sample')}\n                    >\n                        SAMPLE\n                    </NavLink>\n                </NavItem>\n                <NavItem>\n                    <NavLink\n                        className={classnames({ active: isActiveTab('callouts') })}\n                        onClick={() => activateTab('callouts')}\n                    >\n                        Assessment Findings\n                    </NavLink>\n                </NavItem>\n            </Nav>\n            <TabContent activeTab={activeTab}>\n                { getVitalsTabPane() }\n                { getSampleTabPane() }\n                { getAssessmentFindingsTabPane() }\n            </TabContent>\n        </>\n    );\n}","import React, {\n    useContext,\n    // useState\n} from \"react\"\n\nimport {usePrefs} from \"../contexts/PreferencesContext\"\nimport {ScenarioContext} from \"../contexts/ScenarioContext\"\n\nimport MDBContainer from \"./MDBContainer\"\nimport CheckList from \"./CheckList\"\nimport RaterInfo from \"./RaterInfo\"\n\nconst CheckListRaterInfoLayout = (props) => {\n    const { scenario } = useContext(ScenarioContext)\n    const {dispAssessmentFindingsInline} = usePrefs()\n\n    const lhs = (\n        <CheckList\n            heading=\"Checklist\"\n            steps={scenario.steps}\n            first={true}\n            displayAssessmentFindings={dispAssessmentFindingsInline}\n        />\n    )\n    const rhs = (\n        <RaterInfo />\n    )\n    return (\n        <MDBContainer\n            lhs={lhs}\n            rhs={rhs}\n            lhsWidth={7}\n            rhsWidth={5}\n        />\n    )\n}\n\nexport default CheckListRaterInfoLayout","import React, { useContext } from \"react\"\n\nimport { ScenarioContext } from \"../contexts/ScenarioContext\"\n\nimport { Button } from \"reactstrap\"\n\n// I guess I don't need these functions anymore, now that they are only\n// evaluated in a single location\nfunction hasChildren(step) {\n    return step.children && step.children.length > 0\n}\nfunction allChildrenAreHeadings(step) {\n    return step.children.every((child) => child.type === 'heading')\n}\n\nconst Outline = ({ steps, depth = 3, first=false}) => {\n\n    const {setCurrentNode} = useContext(ScenarioContext)\n    return (\n        <ul className={first ? \"first\" : \"\"}>\n        {steps.map((step) => (\n            <li key={step.id}>\n            {\n                (hasChildren(step) && allChildrenAreHeadings(step))\n                ?\n                    <>\n                        <div className={`h${depth + 1} text-primary empty-heading`}>\n                            {step.label}\n                        </div>\n                        <Outline\n                            steps={step.children}\n                            depth={depth + 1}\n                        />\n                    </>\n                :\n                    <Button\n                        color=\"link\"\n                        onClick={() => setCurrentNode(step.id)}>\n                        <span className={`h${depth + 1}`}>\n                            {step.label}\n                        </span>\n                    </Button>\n            }\n            </li>\n\n        ))}\n        </ul>\n    )\n}\n\nexport default Outline;","import React, { useContext, useEffect, useState } from 'react'\n\nimport { ScenarioContext } from \"../contexts/ScenarioContext\"\n\nimport CheckListItem from \"./CheckListItem\"\n// import Panel from \"./Panel\"\nimport RaterInfo from \"./RaterInfo\"\n\n\nconst MDBDetailsPane = () => {\n    const { scenario, currentNode } = useContext(ScenarioContext)\n    const [label, setLabel] = useState(null)\n    const [children, setChildren] = useState([])\n\n\n    useEffect(\n        () => {\n            if(!!currentNode) {\n                setLabel(scenario.nodeLabels[currentNode])\n                setChildren(scenario.items[currentNode])\n            } else {\n                setLabel(null)\n                setChildren([])\n            }\n        },[scenario, currentNode]\n    )\n\n    if (null === label) {\n        return (\n            <div style={{verticalAlign: \"center\"}}>\n                <p className=\"text-center\">\n                    Please click on an outline step to the left to see it's details\n                </p>\n            </div>\n        )\n    }\n    return (\n        <>\n            <h3 className=\"text-center\">\n                {`${label} Details`}\n            </h3>\n            <ul className=\"first\">\n                {children.map((child) =>\n                    <li key={child.id}>\n                        <CheckListItem step={child} />\n                    </li>\n                )}\n            </ul>\n            <RaterInfo defaultTab={\"vitals\"} />\n        </>\n    )\n}\n\nexport default MDBDetailsPane;","import React, {\n    useContext,\n    // useState\n} from \"react\"\n\n// import {usePrefs} from \"../contexts/PreferencesContext\"\nimport {ScenarioContext} from \"../contexts/ScenarioContext\"\n\nimport MDBContainer from \"./MDBContainer\"\nimport Outline from \"./Outline\"\nimport MDBDetailsPane from \"./MDBDetailsPane\"\n\nconst NavigationDetailsLayout = (props) => {\n    const { scenario } = useContext(ScenarioContext)\n    // const {dispAssessmentFindingsInline} = usePrefs()\n\n    const lhs = (\n        <Outline\n            heading=\"Navigation\"\n            steps={scenario.steps}\n            first={true}\n        />\n    )\n    const rhs = (\n        <MDBDetailsPane />\n    )\n    return (\n        <MDBContainer lhs={lhs} rhs={rhs} lhsWidth=\"5\" rhsWidth=\"7\"/>\n    )\n}\n\nexport default NavigationDetailsLayout","import React, {\n    // useEffect,\n    useState\n} from 'react';\n\nimport { usePrefs } from \"../contexts/PreferencesContext\"\n\nimport {\n    Button,\n    Nav,\n    // NavItem,\n    Navbar,\n    NavbarBrand,\n    NavbarText,\n} from \"reactstrap\";\n\n\n\n// {/* <Button color=\"primary\" onClick={prefsToggler}>\n//     Preferences\n// </Button> */}\n\n\nconst MDBNavBar = ({title, scenInfoToggler }) => {\n\n    const { setPref } = usePrefs()\n    const [activeMockup, setActiveMockup] = useState(\"mockup1\")\n\n    const isCurrentMockup = (mockup) => mockup === activeMockup\n\n    const setMockup1Prefs = (event) => {\n        event.preventDefault()\n        setPref(\"dispLeafNodesInline\", false)\n        setPref(\"dispAssessmentFindingsInline\", true)\n        setPref(\"inhibitRaterOversharing\", true)\n        setActiveMockup(\"mockup1\")\n    }\n\n    const setMockup2Prefs = (event) => {\n        event.preventDefault()\n        setPref(\"dispLeafNodesInline\", true)\n        setPref(\"dispAssessmentFindingsInline\", true)\n        setPref(\"inhibitRaterOversharing\", true)\n        setActiveMockup(\"mockup2\")\n    }\n\n    // const setMockup3Prefs = (event) => {\n    //     event.preventDefault()\n    //     setPref(\"dispLeafNodesInline\", true)\n    //     setPref(\"dispAssessmentFindingsInline\", false)\n    //     setPref(\"inhibitRaterOversharing\", false)\n    //     setActiveMockup(\"mockup3\")\n    // }\n\n\n    return (\n        <Navbar color=\"dark\" dark>\n\n            <NavbarBrand href=\"#\">\n                MedDBriefer\n            </NavbarBrand>\n\n            <Nav>\n                <Button\n                    color={isCurrentMockup(\"mockup1\") ? \"success\" : \"primary\"}\n                    onClick={setMockup1Prefs}\n                >\n                    Layout 1\n                </Button>\n                <Button\n                    color={isCurrentMockup(\"mockup2\") ? \"success\" : \"primary\"}\n                    onClick={setMockup2Prefs}\n                >\n                    Layout 2\n                </Button>\n            </Nav>\n\n           {!!title &&\n                <NavbarText tag=\"h3\">{title}</NavbarText>\n            }\n            <Nav>\n                <Button color=\"success\" onClick={scenInfoToggler}>\n                    Scenario Info\n                </Button>\n            </Nav>\n        </Navbar>\n    )\n}\n\nexport default MDBNavBar;\n","import React from 'react'\n\nimport {Modal, ModalHeader, ModalBody} from 'reactstrap';\n\n\nconst MDBModal = (props) => {\n    const {title, show, dismiss, children} = props;\n    return (\n        <Modal isOpen={show} toggle={dismiss} size=\"xl\" backdrop=\"static\">\n            <ModalHeader toggle={dismiss}>\n                <span className=\"h2\">{title}</span>\n            </ModalHeader>\n            <ModalBody>\n                {children}\n            </ModalBody>\n        </Modal>\n    );\n}\n\nexport default MDBModal;","\nimport React, { useContext } from \"react\"\n\nimport MDBModal from \"./MDBModal\"\n\nimport { ScenarioContext } from \"../contexts/ScenarioContext\"\n\nexport default function ScenarioInfo({show, dismiss}) {\n\n    const { scenario } = useContext(ScenarioContext)\n\n\n    return (\n        <MDBModal\n            name=\"Scenario Info\"\n            show={show}\n            dismiss={dismiss}\n        >\n            <div className=\"container-fluid\">\n                <div className=\"row\">\n                    <div className=\"col-6\">\n                        <h3>Instructor Information</h3>\n                        <p>{scenario.info.instructorInformation}</p>\n                    </div>\n                    <div className=\"col-6\">\n                        <h3>Patient Information</h3>\n                        <ul>\n                            <li><b>Moulage:</b> {scenario.info.patientInformation.moulage}</li>\n                            <li><b>Position:</b> {scenario.info.patientInformation.position}</li>\n                            <li><b>Actions:</b> {scenario.info.patientInformation.actions}</li>\n                        </ul>\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"col-6\">\n                        <h3>Dispatch Information</h3>\n                        <p>{scenario.info.dispatchInfo}</p>\n                    </div>\n                    <div className=\"col-6\">\n                        <h3>Scene Assessment</h3>\n                        <p>{scenario.info.sceneAssessment}</p>\n                    </div>\n                </div>\n            </div>\n        </MDBModal>\n\n    )\n}","import React from \"react\"\n\nimport { Button } from \"reactstrap\"\n\nimport { usePrefs } from \"../contexts/PreferencesContext\"\n\nimport MDBModal from \"./MDBModal\"\n\nconst PreferencesForm = ({show, dismiss}) => {\n\n    const {\n        dispLeafNodesInline,\n        dispAssessmentFindingsInline,\n        inhibitRaterOversharing,\n        setPref\n    } = usePrefs()\n\n    const handleInputChange = (event) => {\n        const target = event.target\n        const value = target.type === \"checkbox\" ? target.checked : target.value\n        const name = target.name\n        setPref(name, value)\n    }\n\n    return (\n        <MDBModal\n            title=\"User Preferences\"\n            show={show}\n            dismiss={dismiss}\n        >\n            <div className=\"container\">\n                <div className=\"row\">\n                    <label>\n                        <input\n                            type=\"checkbox\"\n                            name=\"dispLeafNodesInline\"\n                            checked={dispLeafNodesInline}\n                            onChange={handleInputChange}\n                        />\n                        &nbsp; Embed Checkboxes within Checklist Outline\n                    </label>\n                </div>\n                <div className=\"row\">\n                    <label>\n                        <input\n                            type=\"checkbox\"\n                            name=\"dispAssessmentFindingsInline\"\n                            checked={dispAssessmentFindingsInline}\n                            onChange={handleInputChange}\n                        />\n                        &nbsp; Embed Assessment Findings within Checklist\n                    </label>\n                </div>\n                <div className=\"row\">\n                    <label>\n                        <input\n                            type=\"checkbox\"\n                            name=\"inhibitRaterOversharing\"\n                            checked={inhibitRaterOversharing}\n                            onChange={handleInputChange}\n                        />\n                        &nbsp; Inhibit Rater Oversharing of Information\n                    </label>\n                </div>\n\n                <Button\n                    type=\"button\"\n                    className=\"btn btn-success\"\n                    onClick={dismiss}\n                >\n                    Dismiss\n                </Button>\n            </div>\n        </MDBModal>\n    )\n}\n\nexport default PreferencesForm","const scenarioData = {\n  id: \"PHTC M2CA\",\n  scenarioType: \"trauma\",\n  info: {\n    instructorInformation: \"This skill station involves a middle-aged patient who experienced a rollover with a riding lawn mower. The patient requires airway/breathing management, hemorrhage control, immobilization, and rapid transport to a trauma center. Follow the written scenario, and provide information to all team members as the scenario progresses or as the team members ask.\",\n    patientInformation: {\n      moulage: \"Multiple lacerations to upper and lower extremities; partial amputation of right lower extremity with active bleeding; multiple bruises to chest and abdomen; flail segment to right upper chest; pale, cool, and diaphoretic skin\",\n      position: \"Supine\",\n      actions: \"Opens eyes to pain and becomes progressively more unresponsive\"\n    },\n    dispatchInfo: \"You and your partners work for a transporting EMS agency and have been dispatched to a residential housing development for a lawn mower accident. It is 1330 hr on a Saturday afternoon and the temperature is 90F (32C). You are 5 minutes away from a level III trauma center and 25 minutes from a level I trauma center.\",\n    sceneAssessment: \"You arrive at a suburban yard where you observe a large riding lawn mower on its side at the bottom of an 8-ft (2.5-m) hill. A bystander is holding a towel to the patients right lower leg. As you approach the patient, the bystander tells you that he saw the mower tip over while the patient was driving it.\",\n  },\n  assessmentFindings: {\n      \"assess-scene-safety\": \"scene is safe\",\n      \"assess-injury-mechanism\": \"Patient experienced a rollover with a riding lawn mower\",\n      \"assess-num-patients\": \"1 patient\",\n      \"request-addl-help\": \"Additional EMS is on the way.\",\n      \"verbalizes-patient-condition\": \"You arrive at a suburban yard where you observe a large riding lawn mower on its side at the bottom of an 8-ft (2.5-m) hill. A bystander is holding a towel to the patients right lower leg. As you approach the patient, the bystander tells you that he saw the mower tip over while the patient was driving it.\",\n      \"determines-loc\": \"Opens eyes to pain and becomes progressively more unresponsive\",\n      \"determines-life-threats\": \"Multiple lacerations to face, scalp, right arm, amputation at the right ankle\",\n      \"assess-airway\": \"Airway is patent\",\n      \"assess-breathing\": \"8 BPM\", // point to vitals?\n      \"assess-ventilation\": \"shallow, irregular\",\n      \"assess-pulse\": \"130; weak radial pulses\", // point to vitals?\n      \"assess-skin\": \"Cyanonic, diaphoretic\",\n      \"assess-bleeding\": \"Major external hemorrhage at lower right leg\",\n      \"assess-mouth-nose-face\": \"Multiple lacerations with minor bleeding\",\n      \"assess-scape-ears\": \"Unremarkable\",\n      \"assess-perrl\": \"Pupils equal, round, and responsive\", // point to vitals?\n      \"assess-trachea\": \"Neck unremarkable\",\n      \"assess-jugular\": \"No JVD\",\n      \"assess-spine\": \"Unremarkable / No step-off\",\n      \"inspects-chest\": \"Multiple lacerations; red marks to right chest\",\n      \"palpate-chest\": \"Flail segment to right upper chest\",\n      \"auscultate-chest\": \"Crepitus on right\",\n      \"assess-abdomen\": \"Soft, nontender\",\n      \"assess-pelvis\": \"Stable\",\n      \"assess-genitalia\": \"Unremarkable\",\n      \"assess-left-leg\": \"Multiple lacerations\",\n      \"assess-right-leg\": \"Amputation of right leg at the ankle\",\n      \"assess-left-arm\": \"Multiple lacerations\",\n      \"assess-right-arm\": \"Multiple lacerations\",\n      \"assess-posterior-thorax\": \"Unremarkable\",\n      \"assess-lumbar-buttocks\": \"Unremarkable\"\n  },\n  initialVitalSigns: {\n    BP: \"96 / palpation\",\n    P: \"130, weak radial pulses\",\n    R: \"38, shallow; LS clear and equal with crepitus on right\",\n    Skin: \"Cyanonic, diaphoretic\",\n    Spo2: \"78 % /RA\",\n    ETCO2: \"64 mm Hg\",\n    GCS: \"8 (E-2, V-2, M-4), PERRLA\",\n    Glucose: \"86 mg/dl(4.8 mmol / l)\",\n    Pain: \"Unable to access\",\n    Temp: \"96.5 F(35.8 C)\"\n  },\n  SAMPLE: {\n    S: \"shortness of breath\",\n    A: \"unknown\",\n    M: \"unknown\",\n    P: \"unknown\",\n    L: \"unknown\",\n    E: \"Riding a lawnmower on an incline and it rolled over the patient\"\n  },\n  reassessmentVitals: {\n    BP: {\n      \"goodVitals\": \"96 / P\",\n      \"badVitals\": \"78 / P\"\n    },\n    P: {\n      \"goodVitals\": \"120, weak\",\n      \"badVitals\": \"130, weak radial pulses\"\n    },\n    R: {\n      \"goodVitals\": \"12, LS clear and equal with crepitus on right\",\n      \"badVitals\": \"38, shallow; LS clear and equal with crepitus on right\"\n    },\n    Skin: {\n      \"goodVitals\": \"Pale, diaphoretic\",\n      \"badVitals\": \"Cyanonic, diaphoretic\"\n    },\n    Spo2: {\n      \"goodVitals\": \"99%, O2 \",\n      \"badVitals\": \"No capture\"\n    },\n    ETCO2: {\n      goodVitals: \"45 mm Hg\",\n      badVitals: \"32 mm Hg\"\n    },\n    GCS: {\n      \"goodVitals\": \"8\",\n      \"badVitals\": \"4\"\n    },\n    Glucose: {\n      \"goodVitals\": \"86 mg/dl(4.8 mmol / l)\",\n      \"badVitals\": \"86 mg/dl(4.8 mmol / l)\"\n    },\n    Pain: {\n      \"goodVitals\": \"Unable to access\",\n      \"badVitals\": \"Unable to access\"\n    },\n    Temp: {\n      \"goodVitals\": \"96.5 F(35.8 C)\",\n      \"badVitals\": \"94.8\"\n    }\n  },\n  interventions: {\n    \"stabilizes-spine\": \"do\", // \"c-spine-interventions\"\n    \"inserts-adjunct\": \"na\",\n    \"manages-airway\": \"do\", // \"airway-interventions\"\n    \"oxygen-therapy\": \"do\", // na?? - no intervention list for it but should be done\n    \"manage-breathing-injury\": \"do\", // ventilation-interventions\n    \"control-bleeding\": \"do\", // \"bleeding-interventions\"\n    \"control-shock\": \"say\", // \"shock-interventions\"\n    \"transport-priority\": \"do\", // \"transport-interventions\"\n  }\n};\n\n\nexport default scenarioData;","import React, { useState, useEffect } from \"react\"\n\nimport { usePrefs } from \"../contexts/PreferencesContext\"\nimport { ScenarioProvider } from \"../contexts/ScenarioContext\"\n\nimport CheckListRaterInfoLayout from \"../components/CheckListRaterInfoLayout\"\nimport NavigationDetailsLayout from \"../components/NavigationDetailsLayout\"\nimport MDBNavBar from \"../components/MDBNavBar\"\nimport ScenarioInfo from \"../components/ScenarioInfo\"\nimport PreferencesForm from \"../components/PreferencesForm\"\n\n\nimport traumaScenarioIndexer from \"../data/traumaScenarioIndexer\"\nimport scenarioData from \"../data/scenario\"\n\nfunction mapKeysToFalse(dict) {\n    const newDict = Object.keys(dict).reduce((obj, key) => {\n        obj[key] = false;\n        return obj;\n    }, {})\n    return newDict;\n}\n\nfunction mapArrayOfObjKeysToFalse(array) {\n    const dict = {}\n    array.forEach((obj) => {dict[obj.id] = false})\n    return dict\n}\n\nfunction mapChildObjKeysToFalse(parent) {\n    const dict = {}\n    Object.keys(parent).forEach((key) => {\n        parent[key].forEach(child => {\n            dict[child.id] = false\n        })\n    })\n    return dict\n}\n\nconst getDefaultValues = (scen) => {\n    return {\n        vitals: scen.initialVitalSigns,\n        vitalsRecomputed: false,\n        currentNode: null,\n        checkListItems: mapChildObjKeysToFalse(scen.items),\n        criticalCriteria: mapArrayOfObjKeysToFalse(scen.criticalCriteria),\n        showForm: mapKeysToFalse(scen.interventionForms)\n    }\n}\n\n\nconst Scenario = ({scenarioId}) => {\n\n    const { dispLeafNodesInline } = usePrefs()\n\n    const [scenario, setScenario] = useState(null)\n\n    const [initValues, setInitValues] = useState(null)\n    const [showPrefs, setShowPrefs] = useState(false)\n    const [showScenInfo, setShowScenInfo] = useState(false)\n\n\n    useEffect(\n        () => {\n            const loadScen = () => {\n                //ignore scenarioId for now importing hardcoded scen file\n                const scen = traumaScenarioIndexer(scenarioData)\n                setScenario(scen)\n                const defaults = getDefaultValues(scen)\n                setInitValues(defaults)\n            }\n            loadScen()\n        }, []\n    )\n\n    // useEffect(\n    //     () => {\n    //         if (!!scenario || !!initValues) {\n    //             console.log(\"Scenario::useEffect()::values changed\")\n    //             // console.log(JSON.stringify(scenario, null, 4))\n    //             // console.log(JSON.stringify(initValues, null, 4))\n    //         }\n    //     }, [scenario, initValues]\n    // )\n\n    const togglePrefs = (event) => {\n        event.preventDefault()\n        setShowPrefs(!showPrefs)\n    }\n\n    const toggleScenInfo = (event) => {\n        event.preventDefault()\n        setShowScenInfo(!showScenInfo)\n    }\n\n\n\n    const getLayout = () => {\n        return dispLeafNodesInline\n        ? <CheckListRaterInfoLayout />\n        : <NavigationDetailsLayout />\n    }\n\n\n\n    return (\n        !scenario\n        ? <div>Loading scenario...</div>\n        :\n        <ScenarioProvider\n            scenario={scenario}\n            defaultValues={initValues}\n        >\n            <MDBNavBar\n                title={`Scenario: ${scenario.id}`}\n                scenInfoToggler={toggleScenInfo}\n                prefsToggler={togglePrefs}\n            />\n            {getLayout()}\n            <PreferencesForm show={showPrefs} dismiss={togglePrefs} />\n            <ScenarioInfo show={showScenInfo} dismiss={toggleScenInfo} />\n\n        </ScenarioProvider>\n    )\n}\n\nexport default Scenario","import React from \"react\"\n\nimport { PreferencesProvider } from \"./contexts/PreferencesContext\"\n\nimport Scenario from \"./routes/Scenario\"\n\nimport {\n    HashRouter as Router,\n    Switch,\n    Route\n} from \"react-router-dom\"\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./styles.css\";\n\n\nconst App = (props) => {\n\n    return (\n        <PreferencesProvider>\n            <Router>\n                <Switch>\n                    <Route exact path=\"/\" component={Scenario} />\n                </Switch>\n            </Router>\n        </PreferencesProvider>\n    )\n}\n\n\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\"\n\n// reactstrap is using some deprecated stuff, which brings up warnings, making\n// the console difficult to read.\n//\n// for instance the following pair of warnings, rear their ugly head whenever\n// you display/hide a\n// Modal:\n//\n//   Warning: Legacy context API has been detected within a strict - mode tree.\n\n//       The old API will be supported in all 16.x releases, but applications\n//       using it should migrate to the new version.\n\n//       Please update the following components: Transition\n//\n//   Warning: findDOMNode is deprecated in StrictMode.\n//       findDOMNode was passed an instance of Transition which is inside StrictMode.\n//       Instead, add a ref directly to the element you want to reference.\n//       Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node\n//\n// this is simply the reactstrap project being slow to make use of a dep which\n// fixes the problem. Everything works for the timebeing, and the warning only\n// comes up in development builds (not production)\n//\n// if this is causing you difficulties, you can temporarily (IMPORTANT!\n// remember to re-enable this) not wrapping <App />  with <React.StrictMode>\n// again, I stress *temporarily* as StrictMode will help find other issues as\n// well, and they'll mostly be **our** issues, not 3rd party stuff\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}